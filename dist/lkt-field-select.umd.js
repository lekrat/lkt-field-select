(function(N,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("vue"),require("lkt-string-tools"),require("lkt-http-client")):typeof define=="function"&&define.amd?define(["exports","vue","lkt-string-tools","lkt-http-client"],l):(N=typeof globalThis<"u"?globalThis:N||self,l(N.LktFieldSelect={},N.Vue,N.LktStringTools,N.LktHttpClient))})(this,function(N,l,j,fn){"use strict";var _s=Object.defineProperty;var ms=(N,l,j)=>l in N?_s(N,l,{enumerable:!0,configurable:!0,writable:!0,value:j}):N[l]=j;var Ie=(N,l,j)=>(ms(N,typeof l!="symbol"?l+"":l,j),j);class Pe{}Ie(Pe,"NO_OPTIONS_MESSAGE","");const dn=()=>Pe.NO_OPTIONS_MESSAGE,pn=e=>(Pe.NO_OPTIONS_MESSAGE=e,!0);class ut{constructor(t){Ie(this,"value");if(typeof t!="function"&&typeof t!="object")throw new Error("searchOptions must be an object or a function returning an object");if(typeof t=="function"&&typeof t()!="object")throw new Error("searchOptions function must return an object");t||(t={}),this.value=t}getOptions(){return typeof this.value=="function"?this.value():this.value}}class ft{constructor(t=[]){Ie(this,"value");Array.isArray(t)||(t=[]),this.value=[...t]}all(){return this.value}filter(t){if(t==="")return this.all();const n=t.toLowerCase();return this.value.filter(s=>s.label.toLowerCase().indexOf(n)!==-1)}receiveOptions(t){const n=new Set,s=[...this.value,...t],o=[];s.forEach(r=>{let i=[r.value,r.label].join("-");n.has(i)||(o.push(r),n.add(i))}),this.value=o}}function hn(e,t){const n=Object.create(null),s=e.split(",");for(let o=0;o<s.length;o++)n[s[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const A=process.env.NODE_ENV!=="production"?Object.freeze({}):{};process.env.NODE_ENV!=="production"&&Object.freeze([]);const dt=()=>{},_n=()=>!1,mn=/^on[^a-z]/,gn=e=>mn.test(e),P=Object.assign,wn=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},En=Object.prototype.hasOwnProperty,m=(e,t)=>En.call(e,t),h=Array.isArray,Q=e=>_e(e)==="[object Map]",Nn=e=>_e(e)==="[object Set]",O=e=>typeof e=="function",T=e=>typeof e=="string",he=e=>typeof e=="symbol",R=e=>e!==null&&typeof e=="object",bn=e=>(R(e)||O(e))&&O(e.then)&&O(e.catch),On=Object.prototype.toString,_e=e=>On.call(e),pt=e=>_e(e).slice(8,-1),Sn=e=>_e(e)==="[object Object]",De=e=>T(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ht=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},_t=ht(e=>e.charAt(0).toUpperCase()+e.slice(1)),Vn=ht(e=>e?`on${_t(e)}`:""),X=(e,t)=>!Object.is(e,t),vn=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};let mt;const $e=()=>mt||(mt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function je(e){if(h(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=T(s)?Mn(s):je(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(T(e)||R(e))return e}const yn=/;(?![^(]*\))/g,Cn=/:([^]+)/,xn=/\/\*[^]*?\*\//g;function Mn(e){const t={};return e.replace(xn,"").split(yn).forEach(n=>{if(n){const s=n.split(Cn);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ae(e){let t="";if(T(e))t=e;else if(h(e))for(let n=0;n<e.length;n++){const s=Ae(e[n]);s&&(t+=s+" ")}else if(R(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function gt(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let wt;function Tn(e,t=wt){t&&t.active&&t.effects.push(e)}function Rn(){return wt}const Fe=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Et=e=>(e.w&F)>0,Nt=e=>(e.n&F)>0,In=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=F},Pn=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const o=t[s];Et(o)&&!Nt(o)?o.delete(e):t[n++]=o,o.w&=~F,o.n&=~F}t.length=n}},ke=new WeakMap;let se=0,F=1;const He=30;let y;const U=Symbol(process.env.NODE_ENV!=="production"?"iterate":""),Be=Symbol(process.env.NODE_ENV!=="production"?"Map key iterate":"");class Dn{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Tn(this,s)}run(){if(!this.active)return this.fn();let t=y,n=W;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=y,y=this,W=!0,F=1<<++se,se<=He?In(this):bt(this),this.fn()}finally{se<=He&&Pn(this),F=1<<--se,y=this.parent,W=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){y===this?this.deferStop=!0:this.active&&(bt(this),this.onStop&&this.onStop(),this.active=!1)}}function bt(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let W=!0;const Ot=[];function ze(){Ot.push(W),W=!1}function Ke(){const e=Ot.pop();W=e===void 0?!0:e}function C(e,t,n){if(W&&y){let s=ke.get(e);s||ke.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=Fe());const r=process.env.NODE_ENV!=="production"?{effect:y,target:e,type:t,key:n}:void 0;$n(o,r)}}function $n(e,t){let n=!1;se<=He?Nt(e)||(e.n|=F,n=!Et(e)):n=!e.has(y),n&&(e.add(y),y.deps.push(e),process.env.NODE_ENV!=="production"&&y.onTrack&&y.onTrack(P({effect:y},t)))}function k(e,t,n,s,o,r){const i=ke.get(e);if(!i)return;let c=[];if(t==="clear")c=[...i.values()];else if(n==="length"&&h(e)){const u=Number(s);i.forEach((f,g)=>{(g==="length"||!he(g)&&g>=u)&&c.push(f)})}else switch(n!==void 0&&c.push(i.get(n)),t){case"add":h(e)?De(n)&&c.push(i.get("length")):(c.push(i.get(U)),Q(e)&&c.push(i.get(Be)));break;case"delete":h(e)||(c.push(i.get(U)),Q(e)&&c.push(i.get(Be)));break;case"set":Q(e)&&c.push(i.get(U));break}const a=process.env.NODE_ENV!=="production"?{target:e,type:t,key:n,newValue:s,oldValue:o,oldTarget:r}:void 0;if(c.length===1)c[0]&&(process.env.NODE_ENV!=="production"?me(c[0],a):me(c[0]));else{const u=[];for(const f of c)f&&u.push(...f);process.env.NODE_ENV!=="production"?me(Fe(u),a):me(Fe(u))}}function me(e,t){const n=h(e)?e:[...e];for(const s of n)s.computed&&St(s,t);for(const s of n)s.computed||St(s,t)}function St(e,t){(e!==y||e.allowRecurse)&&(process.env.NODE_ENV!=="production"&&e.onTrigger&&e.onTrigger(P({effect:e},t)),e.scheduler?e.scheduler():e.run())}const jn=hn("__proto__,__v_isRef,__isVue"),Vt=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(he)),vt=An();function An(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=d(this);for(let r=0,i=this.length;r<i;r++)C(s,"get",r+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(d)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ze();const s=d(this)[t].apply(this,n);return Ke(),s}}),e}function Fn(e){const t=d(this);return C(t,"has",e),t.hasOwnProperty(e)}class yt{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,s){const o=this._isReadonly,r=this._shallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw"&&s===(o?r?$t:Dt:r?Qn:Pt).get(t))return t;const i=h(t);if(!o){if(i&&m(vt,n))return Reflect.get(vt,n,s);if(n==="hasOwnProperty")return Fn}const c=Reflect.get(t,n,s);return(he(n)?Vt.has(n):jn(n))||(o||C(t,"get",n),r)?c:x(c)?i&&De(n)?c:c.value:R(c)?o?At(c):jt(c):c}}class kn extends yt{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(re(r)&&x(r)&&!x(s))return!1;if(!this._shallow&&(!qe(s)&&!re(s)&&(r=d(r),s=d(s)),!h(t)&&x(r)&&!x(s)))return r.value=s,!0;const i=h(t)&&De(n)?Number(n)<t.length:m(t,n),c=Reflect.set(t,n,s,o);return t===d(o)&&(i?X(s,r)&&k(t,"set",n,s,r):k(t,"add",n,s)),c}deleteProperty(t,n){const s=m(t,n),o=t[n],r=Reflect.deleteProperty(t,n);return r&&s&&k(t,"delete",n,void 0,o),r}has(t,n){const s=Reflect.has(t,n);return(!he(n)||!Vt.has(n))&&C(t,"has",n),s}ownKeys(t){return C(t,"iterate",h(t)?"length":U),Reflect.ownKeys(t)}}class Ct extends yt{constructor(t=!1){super(!0,t)}set(t,n){return process.env.NODE_ENV!=="production"&&gt(`Set operation on key "${String(n)}" failed: target is readonly.`,t),!0}deleteProperty(t,n){return process.env.NODE_ENV!=="production"&&gt(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),!0}}const Hn=new kn,Bn=new Ct,zn=new Ct(!0),Le=e=>e,ge=e=>Reflect.getPrototypeOf(e);function we(e,t,n=!1,s=!1){e=e.__v_raw;const o=d(e),r=d(t);n||(X(t,r)&&C(o,"get",t),C(o,"get",r));const{has:i}=ge(o),c=s?Le:n?Ye:Je;if(i.call(o,t))return c(e.get(t));if(i.call(o,r))return c(e.get(r));e!==o&&e.get(t)}function Ee(e,t=!1){const n=this.__v_raw,s=d(n),o=d(e);return t||(X(e,o)&&C(s,"has",e),C(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Ne(e,t=!1){return e=e.__v_raw,!t&&C(d(e),"iterate",U),Reflect.get(e,"size",e)}function xt(e){e=d(e);const t=d(this);return ge(t).has.call(t,e)||(t.add(e),k(t,"add",e,e)),this}function Mt(e,t){t=d(t);const n=d(this),{has:s,get:o}=ge(n);let r=s.call(n,e);r?process.env.NODE_ENV!=="production"&&It(n,s,e):(e=d(e),r=s.call(n,e));const i=o.call(n,e);return n.set(e,t),r?X(t,i)&&k(n,"set",e,t,i):k(n,"add",e,t),this}function Tt(e){const t=d(this),{has:n,get:s}=ge(t);let o=n.call(t,e);o?process.env.NODE_ENV!=="production"&&It(t,n,e):(e=d(e),o=n.call(t,e));const r=s?s.call(t,e):void 0,i=t.delete(e);return o&&k(t,"delete",e,void 0,r),i}function Rt(){const e=d(this),t=e.size!==0,n=process.env.NODE_ENV!=="production"?Q(e)?new Map(e):new Set(e):void 0,s=e.clear();return t&&k(e,"clear",void 0,void 0,n),s}function be(e,t){return function(s,o){const r=this,i=r.__v_raw,c=d(i),a=t?Le:e?Ye:Je;return!e&&C(c,"iterate",U),i.forEach((u,f)=>s.call(o,a(u),a(f),r))}}function Oe(e,t,n){return function(...s){const o=this.__v_raw,r=d(o),i=Q(r),c=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,u=o[e](...s),f=n?Le:t?Ye:Je;return!t&&C(r,"iterate",a?Be:U),{next(){const{value:g,done:V}=u.next();return V?{value:g,done:V}:{value:c?[f(g[0]),f(g[1])]:f(g),done:V}},[Symbol.iterator](){return this}}}}function H(e){return function(...t){if(process.env.NODE_ENV!=="production"){const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${_t(e)} operation ${n}failed: target is readonly.`,d(this))}return e==="delete"?!1:e==="clear"?void 0:this}}function Kn(){const e={get(r){return we(this,r)},get size(){return Ne(this)},has:Ee,add:xt,set:Mt,delete:Tt,clear:Rt,forEach:be(!1,!1)},t={get(r){return we(this,r,!1,!0)},get size(){return Ne(this)},has:Ee,add:xt,set:Mt,delete:Tt,clear:Rt,forEach:be(!1,!0)},n={get(r){return we(this,r,!0)},get size(){return Ne(this,!0)},has(r){return Ee.call(this,r,!0)},add:H("add"),set:H("set"),delete:H("delete"),clear:H("clear"),forEach:be(!0,!1)},s={get(r){return we(this,r,!0,!0)},get size(){return Ne(this,!0)},has(r){return Ee.call(this,r,!0)},add:H("add"),set:H("set"),delete:H("delete"),clear:H("clear"),forEach:be(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Oe(r,!1,!1),n[r]=Oe(r,!0,!1),t[r]=Oe(r,!1,!0),s[r]=Oe(r,!0,!0)}),[e,n,t,s]}const[Ln,Un,Wn,qn]=Kn();function Ue(e,t){const n=t?e?qn:Wn:e?Un:Ln;return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(m(n,o)&&o in s?n:s,o,r)}const Gn={get:Ue(!1,!1)},Jn={get:Ue(!0,!1)},Yn={get:Ue(!0,!0)};function It(e,t,n){const s=d(n);if(s!==n&&t.call(e,s)){const o=pt(e);console.warn(`Reactive ${o} contains both the raw and reactive versions of the same object${o==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Pt=new WeakMap,Qn=new WeakMap,Dt=new WeakMap,$t=new WeakMap;function Xn(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zn(e){return e.__v_skip||!Object.isExtensible(e)?0:Xn(pt(e))}function jt(e){return re(e)?e:We(e,!1,Hn,Gn,Pt)}function At(e){return We(e,!0,Bn,Jn,Dt)}function Se(e){return We(e,!0,zn,Yn,$t)}function We(e,t,n,s,o){if(!R(e))return process.env.NODE_ENV!=="production"&&console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=o.get(e);if(r)return r;const i=Zn(e);if(i===0)return e;const c=new Proxy(e,i===2?s:n);return o.set(e,c),c}function Z(e){return re(e)?Z(e.__v_raw):!!(e&&e.__v_isReactive)}function re(e){return!!(e&&e.__v_isReadonly)}function qe(e){return!!(e&&e.__v_isShallow)}function Ge(e){return Z(e)||re(e)}function d(e){const t=e&&e.__v_raw;return t?d(t):e}function eo(e){return vn(e,"__v_skip",!0),e}const Je=e=>R(e)?jt(e):e,Ye=e=>R(e)?At(e):e;function x(e){return!!(e&&e.__v_isRef===!0)}function to(e){return x(e)?e.value:e}const no={get:(e,t,n)=>to(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return x(o)&&!x(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function oo(e){return Z(e)?e:new Proxy(e,no)}const q=[];function so(e){q.push(e)}function ro(){q.pop()}function b(e,...t){if(process.env.NODE_ENV==="production")return;ze();const n=q.length?q[q.length-1].component:null,s=n&&n.appContext.config.warnHandler,o=io();if(s)G(s,n,11,[e+t.join(""),n&&n.proxy,o.map(({vnode:r})=>`at <${rn(n,r.type)}>`).join(`
`),o]);else{const r=[`[Vue warn]: ${e}`,...t];o.length&&r.push(`
`,...lo(o)),console.warn(...r)}Ke()}function io(){let e=q[q.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const s=e.component&&e.component.parent;e=s&&s.vnode}return t}function lo(e){const t=[];return e.forEach((n,s)=>{t.push(...s===0?[]:[`
`],...co(n))}),t}function co({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",s=e.component?e.component.parent==null:!1,o=` at <${rn(e.component,e.type,s)}`,r=">"+n;return e.props?[o,...ao(e.props),r]:[o+r]}function ao(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(s=>{t.push(...Ft(s,e[s]))}),n.length>3&&t.push(" ..."),t}function Ft(e,t,n){return T(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:x(t)?(t=Ft(e,d(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):O(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=d(t),n?t:[`${e}=`,t])}const Qe={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function G(e,t,n,s){let o;try{o=s?e(...s):e()}catch(r){kt(r,t,n)}return o}function Ve(e,t,n,s){if(O(e)){const r=G(e,t,n,s);return r&&bn(r)&&r.catch(i=>{kt(i,t,n)}),r}const o=[];for(let r=0;r<e.length;r++)o.push(Ve(e[r],t,n,s));return o}function kt(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,c=process.env.NODE_ENV!=="production"?Qe[n]:n;for(;r;){const u=r.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,i,c)===!1)return}r=r.parent}const a=t.appContext.config.errorHandler;if(a){G(a,null,10,[e,i,c]);return}}uo(e,n,o,s)}function uo(e,t,n,s=!0){if(process.env.NODE_ENV!=="production"){const o=Qe[t];if(n&&so(n),b(`Unhandled error${o?` during execution of ${o}`:""}`),n&&ro(),s)throw e;console.error(e)}else console.error(e)}let ve=!1,Xe=!1;const I=[];let B=0;const ee=[];let D=null,z=0;const Ht=Promise.resolve();let Ze=null;const fo=100;function po(e){const t=Ze||Ht;return e?t.then(this?e.bind(this):e):t}function ho(e){let t=B+1,n=I.length;for(;t<n;){const s=t+n>>>1,o=I[s],r=ie(o);r<e||r===e&&o.pre?t=s+1:n=s}return t}function et(e){(!I.length||!I.includes(e,ve&&e.allowRecurse?B+1:B))&&(e.id==null?I.push(e):I.splice(ho(e.id),0,e),Bt())}function Bt(){!ve&&!Xe&&(Xe=!0,Ze=Ht.then(Kt))}function zt(e){h(e)?ee.push(...e):(!D||!D.includes(e,e.allowRecurse?z+1:z))&&ee.push(e),Bt()}function _o(e){if(ee.length){const t=[...new Set(ee)];if(ee.length=0,D){D.push(...t);return}for(D=t,process.env.NODE_ENV!=="production"&&(e=e||new Map),D.sort((n,s)=>ie(n)-ie(s)),z=0;z<D.length;z++)process.env.NODE_ENV!=="production"&&Lt(e,D[z])||D[z]();D=null,z=0}}const ie=e=>e.id==null?1/0:e.id,mo=(e,t)=>{const n=ie(e)-ie(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Kt(e){Xe=!1,ve=!0,process.env.NODE_ENV!=="production"&&(e=e||new Map),I.sort(mo);const t=process.env.NODE_ENV!=="production"?n=>Lt(e,n):dt;try{for(B=0;B<I.length;B++){const n=I[B];if(n&&n.active!==!1){if(process.env.NODE_ENV!=="production"&&t(n))continue;G(n,null,14)}}}finally{B=0,I.length=0,_o(e),ve=!1,Ze=null,(I.length||ee.length)&&Kt(e)}}function Lt(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>fo){const s=t.ownerInstance,o=s&&sn(s.type);return b(`Maximum recursive updates exceeded${o?` in component <${o}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,n+1)}}const le=new Set;process.env.NODE_ENV!=="production"&&($e().__VUE_HMR_RUNTIME__={createRecord:tt(go),rerender:tt(wo),reload:tt(Eo)});const ye=new Map;function go(e,t){return ye.has(e)?!1:(ye.set(e,{initialDef:ce(t),instances:new Set}),!0)}function ce(e){return ln(e)?e.__vccOpts:e}function wo(e,t){const n=ye.get(e);!n||(n.initialDef.render=t,[...n.instances].forEach(s=>{t&&(s.render=t,ce(s.type).render=t),s.renderCache=[],s.update()}))}function Eo(e,t){const n=ye.get(e);if(!n)return;t=ce(t),Ut(n.initialDef,t);const s=[...n.instances];for(const o of s){const r=ce(o.type);le.has(r)||(r!==n.initialDef&&Ut(r,t),le.add(r)),o.appContext.propsCache.delete(o.type),o.appContext.emitsCache.delete(o.type),o.appContext.optionsCache.delete(o.type),o.ceReload?(le.add(r),o.ceReload(t.styles),le.delete(r)):o.parent?et(o.parent.update):o.appContext.reload?o.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}zt(()=>{for(const o of s)le.delete(ce(o.type))})}function Ut(e,t){P(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function tt(e){return(t,n)=>{try{return e(t,n)}catch(s){console.error(s),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let K=null,No=null;function gs(){}const bo=Symbol.for("v-ndc"),Oo=e=>e.__isSuspense;function So(e,t){t&&t.pendingBranch?h(e)?t.effects.push(...e):t.effects.push(e):zt(e)}const Ce={};function Vo(e,t,{immediate:n,deep:s,flush:o,onTrack:r,onTrigger:i}=A){var c;process.env.NODE_ENV!=="production"&&!t&&(n!==void 0&&b('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&b('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const a=_=>{b("Invalid watch source: ",_,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=Rn()===((c=L)==null?void 0:c.scope)?L:null;let f,g=!1,V=!1;if(x(e)?(f=()=>e.value,g=qe(e)):Z(e)?(f=()=>e,s=!0):h(e)?(V=!0,g=e.some(_=>Z(_)||qe(_)),f=()=>e.map(_=>{if(x(_))return _.value;if(Z(_))return te(_);if(O(_))return G(_,u,2);process.env.NODE_ENV!=="production"&&a(_)})):O(e)?t?f=()=>G(e,u,2):f=()=>{if(!(u&&u.isUnmounted))return E&&E(),Ve(e,u,3,[fe])}:(f=dt,process.env.NODE_ENV!=="production"&&a(e)),t&&s){const _=f;f=()=>te(_())}let E,fe=_=>{E=w.onStop=()=>{G(_,u,4),E=w.onStop=void 0}},v=V?new Array(e.length).fill(Ce):Ce;const $=()=>{if(!!w.active)if(t){const _=w.run();(s||g||(V?_.some((lt,de)=>X(lt,v[de])):X(_,v)))&&(E&&E(),Ve(t,u,3,[_,v===Ce?void 0:V&&v[0]===Ce?[]:v,fe]),v=_)}else w.run()};$.allowRecurse=!!t;let J;o==="sync"?J=$:o==="post"?J=()=>Yt($,u&&u.suspense):($.pre=!0,u&&($.id=u.uid),J=()=>et($));const w=new Dn(f,J);return process.env.NODE_ENV!=="production"&&(w.onTrack=r,w.onTrigger=i),t?n?$():v=w.run():o==="post"?Yt(w.run.bind(w),u&&u.suspense):w.run(),()=>{w.stop(),u&&u.scope&&wn(u.scope.effects,w)}}function vo(e,t,n){const s=this.proxy,o=T(e)?e.includes(".")?yo(s,e):()=>s[e]:e.bind(s,s);let r;O(t)?r=t:(r=t.handler,n=t);const i=L;it(this);const c=Vo(o,r.bind(s),n);return i?it(i):on(),c}function yo(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function te(e,t){if(!R(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),x(e))te(e.value,t);else if(h(e))for(let n=0;n<e.length;n++)te(e[n],t);else if(Nn(e)||Q(e))e.forEach(n=>{te(n,t)});else if(Sn(e))for(const n in e)te(e[n],t);return e}function Co(e,t,n=L,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;ze(),it(n);const c=Ve(t,n,e,i);return on(),Ke(),c});return s?o.unshift(r):o.push(r),r}else if(process.env.NODE_ENV!=="production"){const o=Vn(Qe[e].replace(/ hook$/,""));b(`${o} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const xo=(e=>(t,n=L)=>Co(e,(...s)=>t(...s),n))("bum"),nt=e=>e?Wo(e)?qo(e)||e.proxy:nt(e.parent):null,ae=P(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>process.env.NODE_ENV!=="production"?Se(e.props):e.props,$attrs:e=>process.env.NODE_ENV!=="production"?Se(e.attrs):e.attrs,$slots:e=>process.env.NODE_ENV!=="production"?Se(e.slots):e.slots,$refs:e=>process.env.NODE_ENV!=="production"?Se(e.refs):e.refs,$parent:e=>nt(e.parent),$root:e=>nt(e.root),$emit:e=>e.emit,$options:e=>Ro(e),$forceUpdate:e=>e.f||(e.f=()=>et(e.update)),$nextTick:e=>e.n||(e.n=po.bind(e.proxy)),$watch:e=>vo.bind(e)}),Mo=e=>e==="_"||e==="$",ot=(e,t)=>e!==A&&!e.__isScriptSetup&&m(e,t),To={get({_:e},t){const{ctx:n,setupState:s,data:o,props:r,accessCache:i,type:c,appContext:a}=e;if(process.env.NODE_ENV!=="production"&&t==="__isVue")return!0;let u;if(t[0]!=="$"){const E=i[t];if(E!==void 0)switch(E){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(ot(s,t))return i[t]=1,s[t];if(o!==A&&m(o,t))return i[t]=2,o[t];if((u=e.propsOptions[0])&&m(u,t))return i[t]=3,r[t];if(n!==A&&m(n,t))return i[t]=4,n[t];i[t]=0}}const f=ae[t];let g,V;if(f)return t==="$attrs"?(C(e,"get",t),process.env.NODE_ENV!=="production"&&void 0):process.env.NODE_ENV!=="production"&&t==="$slots"&&C(e,"get",t),f(e);if((g=c.__cssModules)&&(g=g[t]))return g;if(n!==A&&m(n,t))return i[t]=4,n[t];if(V=a.config.globalProperties,m(V,t))return V[t];process.env.NODE_ENV!=="production"&&K&&(!T(t)||t.indexOf("__v")!==0)&&(o!==A&&Mo(t[0])&&m(o,t)?b(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===K&&b(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return ot(o,t)?(o[t]=n,!0):process.env.NODE_ENV!=="production"&&o.__isScriptSetup&&m(o,t)?(b(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):s!==A&&m(s,t)?(s[t]=n,!0):m(e.props,t)?(process.env.NODE_ENV!=="production"&&b(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(process.env.NODE_ENV!=="production"&&b(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(process.env.NODE_ENV!=="production"&&t in e.appContext.config.globalProperties?Object.defineProperty(r,t,{enumerable:!0,configurable:!0,value:n}):r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r}},i){let c;return!!n[i]||e!==A&&m(e,i)||ot(t,i)||(c=r[0])&&m(c,i)||m(s,i)||m(ae,i)||m(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:m(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};process.env.NODE_ENV!=="production"&&(To.ownKeys=e=>(b("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e)));function Wt(e){return h(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Ro(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,c=r.get(t);let a;return c?a=c:!o.length&&!n&&!s?a=t:(a={},o.length&&o.forEach(u=>xe(a,u,i,!0)),xe(a,t,i)),R(t)&&r.set(t,a),a}function xe(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&xe(e,r,n,!0),o&&o.forEach(i=>xe(e,i,n,!0));for(const i in t)if(s&&i==="expose")process.env.NODE_ENV!=="production"&&b('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const c=Io[i]||n&&n[i];e[i]=c?c(e[i],t[i]):t[i]}return e}const Io={data:qt,props:Jt,emits:Jt,methods:ue,computed:ue,beforeCreate:S,created:S,beforeMount:S,mounted:S,beforeUpdate:S,updated:S,beforeDestroy:S,beforeUnmount:S,destroyed:S,unmounted:S,activated:S,deactivated:S,errorCaptured:S,serverPrefetch:S,components:ue,directives:ue,watch:Do,provide:qt,inject:Po};function qt(e,t){return t?e?function(){return P(O(e)?e.call(this,this):e,O(t)?t.call(this,this):t)}:t:e}function Po(e,t){return ue(Gt(e),Gt(t))}function Gt(e){if(h(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function S(e,t){return e?[...new Set([].concat(e,t))]:t}function ue(e,t){return e?P(Object.create(null),e,t):t}function Jt(e,t){return e?h(e)&&h(t)?[...new Set([...e,...t])]:P(Object.create(null),Wt(e),Wt(t!=null?t:{})):t}function Do(e,t){if(!e)return t;if(!t)return e;const n=P(Object.create(null),e);for(const s in t)n[s]=S(e[s],t[s]);return n}function $o(){return{app:null,config:{isNativeTag:_n,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}const Yt=So,jo=e=>e.__isTeleport,Qt=Symbol.for("v-fgt"),Ao=Symbol.for("v-txt"),Fo=Symbol.for("v-cmt");let ne=null;function ko(e){return e?e.__v_isVNode===!0:!1}const Ho=(...e)=>en(...e),Xt="__vInternal",Zt=({key:e})=>e!=null?e:null,Me=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?T(e)||x(e)||O(e)?{i:K,r:e,k:t,f:!!n}:e:null);function Bo(e,t=null,n=null,s=0,o=null,r=e===Qt?0:1,i=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Zt(t),ref:t&&Me(t),scopeId:No,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:K};return c?(st(a,n),r&128&&e.normalize(a)):n&&(a.shapeFlag|=T(n)?8:16),process.env.NODE_ENV!=="production"&&a.key!==a.key&&b("VNode created with invalid key (NaN). VNode type:",a.type),!i&&ne&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&ne.push(a),a}const zo=process.env.NODE_ENV!=="production"?Ho:en;function en(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===bo)&&(process.env.NODE_ENV!=="production"&&!e&&b(`Invalid vnode type when creating vnode: ${e}.`),e=Fo),ko(e)){const c=Te(e,t,!0);return n&&st(c,n),!r&&ne&&(c.shapeFlag&6?ne[ne.indexOf(e)]=c:ne.push(c)),c.patchFlag|=-2,c}if(ln(e)&&(e=e.__vccOpts),t){t=Ko(t);let{class:c,style:a}=t;c&&!T(c)&&(t.class=Ae(c)),R(a)&&(Ge(a)&&!h(a)&&(a=P({},a)),t.style=je(a))}const i=T(e)?1:Oo(e)?128:jo(e)?64:R(e)?4:O(e)?2:0;return process.env.NODE_ENV!=="production"&&i&4&&Ge(e)&&(e=d(e),b("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),Bo(e,t,n,s,o,i,r,!0)}function Ko(e){return e?Ge(e)||Xt in e?P({},e):e:null}function Te(e,t,n=!1){const{props:s,ref:o,patchFlag:r,children:i}=e,c=t?Uo(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Zt(c),ref:t&&t.ref?n&&o?h(o)?o.concat(Me(t)):[o,Me(t)]:Me(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:process.env.NODE_ENV!=="production"&&r===-1&&h(i)?i.map(tn):i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Qt?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Te(e.ssContent),ssFallback:e.ssFallback&&Te(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function tn(e){const t=Te(e);return h(e.children)&&(t.children=e.children.map(tn)),t}function Lo(e=" ",t=0){return zo(Ao,null,e,t)}function st(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(h(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),st(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Xt in t)?t._ctx=K:o===3&&K&&(K.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else O(t)?(t={default:t,_ctx:K},n=32):(t=String(t),s&64?(n=16,t=[Lo(t)]):n=8);e.children=t,e.shapeFlag|=n}function Uo(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=Ae([t.class,s.class]));else if(o==="style")t.style=je([t.style,s.style]);else if(gn(o)){const r=t[o],i=s[o];i&&r!==i&&!(h(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=s[o])}return t}$o();let L=null,rt,oe,nn="__VUE_INSTANCE_SETTERS__";(oe=$e()[nn])||(oe=$e()[nn]=[]),oe.push(e=>L=e),rt=e=>{oe.length>1?oe.forEach(t=>t(e)):oe[0](e)};const it=e=>{rt(e),e.scope.on()},on=()=>{L&&L.scope.off(),rt(null)};function Wo(e){return e.vnode.shapeFlag&4}function qo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(oo(eo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ae)return ae[n](e)},has(t,n){return n in t||n in ae}}))}const Go=/(?:^|[-_])(\w)/g,Jo=e=>e.replace(Go,t=>t.toUpperCase()).replace(/[-_]/g,"");function sn(e,t=!0){return O(e)?e.displayName||e.name:e.name||t&&e.__name}function rn(e,t,n=!1){let s=sn(t);if(!s&&t.__file){const o=t.__file.match(/([^/\\]+)\.\w+$/);o&&(s=o[1])}if(!s&&e&&e.parent){const o=r=>{for(const i in r)if(r[i]===t)return i};s=o(e.components||e.parent.type.components)||o(e.appContext.components)}return s?Jo(s):n?"App":"Anonymous"}function ln(e){return O(e)&&"__vccOpts"in e}const Yo=["id","onFocus","onBlur"],Qo={key:1,class:"lkt-field__select"},Xo=["onClick"],Zo={key:0,class:"lkt-field__select-dropdown"},es={class:"lkt-field__select-search-container"},ts={key:0,class:"lkt-field__select-options"},ns=["onClick"],os={key:2,class:"lkt-field-select__read"},ss=["innerHTML","title"],rs={key:0,class:"lkt-field__state"},is=["title"],ls=["innerHTML","onClick"],cs={name:"LktFieldSelect",inheritAttrs:!1},as=l.defineComponent({...cs,props:{modelValue:{type:[String,Number,Array],default:""},placeholder:{type:String,default:""},label:{type:String,default:""},palette:{type:String,default:""},name:{type:String,default:j.generateRandomString(16)},valid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},readMode:{type:Boolean,default:!1},allowReadModeSwitch:{type:Boolean,default:!1},switchEditionMessage:{type:String,default:""},emptyLabel:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},disabledOptions:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!1},canTag:{type:Boolean,default:!1},noOptionsMessage:{type:String,default:dn()},resource:{type:String,default:()=>null},searchStringResourceParam:{type:String,default:"query"},searchOptions:{type:[Object,Function],default:()=>null},searchPlaceholder:{type:String,default:""}},emits:["update:modelValue","click-ui"],setup(e,{expose:t,emit:n}){const s=n,o=e,r=l.ref(null),i=l.ref(null),c=l.ref(!o.readMode),a=j.generateRandomString(16),u=l.ref(new ut(o.searchOptions)),f=l.ref(new ft(o.options)),g=l.ref(!1),V=l.ref(o.modelValue),E=l.ref(o.modelValue),fe=l.ref(!1),v=l.ref(!1),$=l.ref(f.value.all()),J=l.ref(f.value.all()),w=l.ref("");o.closeOnSelect===null?g.value=o.multiple===!0:g.value=o.closeOnSelect,l.computed(()=>fn.existsHTTPResource(o.resource));const cn=l.computed(()=>typeof o.valid=="function"?o.valid():o.valid),_=l.computed(()=>E.value!==V.value),lt=l.computed(()=>{const p=["lkt-field","lkt-field-select"];return o.palette&&p.push(`lkt-field--${o.palette}`),_.value&&p.push("is-changed"),o.multiple&&p.push("is-multiple"),o.disabled&&p.push("is-disabled"),v.value&&p.push("has-focus"),p.push(cn.value?"is-valid":"is-error"),p.push(o.modelValue?"is-filled":"is-empty"),p.join(" ")}),de=l.computed(()=>{let p="";return J.value.forEach(Y=>{Y.value==E.value&&(p=Y.label)}),p}),ct=()=>{J.value=f.value.all(),$.value=f.value.filter(w.value)},an=()=>{w.value="",ct()},fs=()=>{E.value=V.value},ds=()=>o.modelValue,Re=()=>{an(),v.value=!v.value,v.value&&l.nextTick(()=>{r.value.focus(),l.nextTick(()=>{r.value.focus()})})};l.watch(()=>o.readMode,p=>c.value=!p),l.watch(()=>o.modelValue,p=>{E.value=p}),l.watch(E,p=>{s("update:modelValue",p),fe.value=!0,l.nextTick(()=>fe.value=!1)}),l.watch(w,ct),l.watch(()=>o.searchOptions,p=>{u.value=new ut(p)}),l.watch(()=>o.options,p=>{f.value=new ft(p)}),ct();const ps=p=>{E.value=p.value,v.value=!1},un=p=>{const Y=["is-select","lkt-field__select","lkt-field__select-value","lkt-field__select-dropdown","lkt-field__select-search-container","lkt-field__select-options","lkt-field__select-option","lkt-field__select-search"],pe=p.target;let M=!1;Y.forEach(at=>{(pe.className.includes(at)||pe.parentElement&&pe.parentElement.className.includes(at))&&(M=!0)}),M||(an(),v.value=!1)},hs=p=>{c.value=!c.value,c.value&&focus()};return window.addEventListener("click",un),xo(()=>{window.removeEventListener("click",un)}),t({reset:fs,value:ds}),(p,Y)=>{const pe=l.resolveComponent("lkt-field-text");return l.openBlock(),l.createElementBlock("div",{class:l.normalizeClass(lt.value),"data-show-ui":!1},[l.renderSlot(p.$slots,"prefix"),c.value?(l.openBlock(),l.createElementBlock("select",{key:0,ref:M=>i.value=M,id:l.unref(a),onFocus:l.withModifiers(Re,["stop","prevent"]),onBlur:l.withModifiers(Re,["stop","prevent"]),style:{height:"0",opacity:"0",width:"0"}},null,40,Yo)):l.createCommentVNode("",!0),c.value?(l.openBlock(),l.createElementBlock("div",Qo,[l.createElementVNode("div",{class:"lkt-field__select-value",onClick:l.withModifiers(Re,["stop","prevent"])},l.toDisplayString(de.value),9,Xo),v.value?(l.openBlock(),l.createElementBlock("div",Zo,[l.createElementVNode("div",es,[l.createVNode(pe,{ref:M=>r.value=M,modelValue:w.value,"onUpdate:modelValue":Y[0]||(Y[0]=M=>w.value=M),placeholder:e.searchPlaceholder,tabindex:-1,class:"lkt-field__select-search"},null,8,["modelValue","placeholder"])]),e.readonly?l.createCommentVNode("",!0):(l.openBlock(),l.createElementBlock("ul",ts,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList($.value,M=>(l.openBlock(),l.createElementBlock("li",{class:l.normalizeClass(["lkt-field__select-option",{"is-active":M.value==E.value}]),onClick:l.withModifiers(at=>ps(M),["prevent","stop"])},l.toDisplayString(M.label),11,ns))),256))]))])):l.createCommentVNode("",!0)])):l.createCommentVNode("",!0),c.value?l.createCommentVNode("",!0):(l.openBlock(),l.createElementBlock("div",os,[l.createElementVNode("div",{class:"lkt-field-select__read-value",innerHTML:de.value,title:de.value},null,8,ss),e.allowReadModeSwitch?(l.openBlock(),l.createElementBlock("div",rs,[l.createElementVNode("i",{class:"lkt-field__edit-icon",title:o.switchEditionMessage,onClick:hs},null,8,is)])):l.createCommentVNode("",!0)])),l.createElementVNode("label",{innerHTML:e.label,onClick:l.withModifiers(Re,["stop","prevent"])},null,8,ls)],2)}}}),us={install:e=>{e.component("lkt-field-select",as)}};N.default=us,N.setNoOptionsMessage=pn,Object.defineProperties(N,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
