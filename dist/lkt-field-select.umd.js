(function(E,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("vue"),require("lkt-string-tools"),require("lkt-http-client")):typeof define=="function"&&define.amd?define(["exports","vue","lkt-string-tools","lkt-http-client"],l):(E=typeof globalThis<"u"?globalThis:E||self,l(E.LktFieldSelect={},E.Vue,E.LktStringTools,E.LktHttpClient))})(this,function(E,l,F,un){"use strict";var lo=Object.defineProperty;var ao=(E,l,F)=>l in E?lo(E,l,{enumerable:!0,configurable:!0,writable:!0,value:F}):E[l]=F;var Me=(E,l,F)=>(ao(E,typeof l!="symbol"?l+"":l,F),F);class Pe{}Me(Pe,"NO_OPTIONS_MESSAGE","");const fn=()=>Pe.NO_OPTIONS_MESSAGE,pn=e=>(Pe.NO_OPTIONS_MESSAGE=e,!0);class at{constructor(t){Me(this,"value");if(typeof t!="function"&&typeof t!="object")throw new Error("searchOptions must be an object or a function returning an object");if(typeof t=="function"&&typeof t()!="object")throw new Error("searchOptions function must return an object");t||(t={}),this.value=t}getOptions(){return typeof this.value=="function"?this.value():this.value}}class ut{constructor(t=[]){Me(this,"value");this.value=[...t]}all(){return this.value}filter(t){if(t==="")return this.all();const n=t.toLowerCase();return this.value.filter(o=>o.label.toLowerCase().indexOf(n)!==-1)}receiveOptions(t){const n=new Set,o=[...this.value,...t],s=[];o.forEach(r=>{let i=[r.value,r.label].join("-");n.has(i)||(s.push(r),n.add(i))}),this.value=s}}function dn(e,t){const n=Object.create(null),o=e.split(",");for(let s=0;s<o.length;s++)n[o[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const H=process.env.NODE_ENV!=="production"?Object.freeze({}):{};process.env.NODE_ENV!=="production"&&Object.freeze([]);const ft=()=>{},hn=()=>!1,_n=/^on[^a-z]/,gn=e=>_n.test(e),M=Object.assign,mn=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},wn=Object.prototype.hasOwnProperty,g=(e,t)=>wn.call(e,t),h=Array.isArray,X=e=>_e(e)==="[object Map]",En=e=>_e(e)==="[object Set]",b=e=>typeof e=="function",T=e=>typeof e=="string",he=e=>typeof e=="symbol",R=e=>e!==null&&typeof e=="object",Nn=e=>(R(e)||b(e))&&b(e.then)&&b(e.catch),bn=Object.prototype.toString,_e=e=>bn.call(e),pt=e=>_e(e).slice(8,-1),On=e=>_e(e)==="[object Object]",De=e=>T(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,dt=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ht=dt(e=>e.charAt(0).toUpperCase()+e.slice(1)),Sn=dt(e=>e?`on${ht(e)}`:""),Z=(e,t)=>!Object.is(e,t),Vn=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};let _t;const $e=()=>_t||(_t=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function je(e){if(h(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],s=T(o)?Cn(o):je(o);if(s)for(const r in s)t[r]=s[r]}return t}else if(T(e)||R(e))return e}const vn=/;(?![^(]*\))/g,xn=/:([^]+)/,yn=/\/\*[^]*?\*\//g;function Cn(e){const t={};return e.replace(yn,"").split(vn).forEach(n=>{if(n){const o=n.split(xn);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Ae(e){let t="";if(T(e))t=e;else if(h(e))for(let n=0;n<e.length;n++){const o=Ae(e[n]);o&&(t+=o+" ")}else if(R(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function gt(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let mt;function Tn(e,t=mt){t&&t.active&&t.effects.push(e)}function Rn(){return mt}const Fe=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wt=e=>(e.w&B)>0,Et=e=>(e.n&B)>0,In=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=B},Mn=e=>{const{deps:t}=e;if(t.length){let n=0;for(let o=0;o<t.length;o++){const s=t[o];wt(s)&&!Et(s)?s.delete(e):t[n++]=s,s.w&=~B,s.n&=~B}t.length=n}},He=new WeakMap;let re=0,B=1;const Be=30;let V;const q=Symbol(process.env.NODE_ENV!=="production"?"iterate":""),ze=Symbol(process.env.NODE_ENV!=="production"?"Map key iterate":"");class Pn{constructor(t,n=null,o){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Tn(this,o)}run(){if(!this.active)return this.fn();let t=V,n=G;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=V,V=this,G=!0,B=1<<++re,re<=Be?In(this):Nt(this),this.fn()}finally{re<=Be&&Mn(this),B=1<<--re,V=this.parent,G=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){V===this?this.deferStop=!0:this.active&&(Nt(this),this.onStop&&this.onStop(),this.active=!1)}}function Nt(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let G=!0;const bt=[];function ke(){bt.push(G),G=!1}function Ke(){const e=bt.pop();G=e===void 0?!0:e}function v(e,t,n){if(G&&V){let o=He.get(e);o||He.set(e,o=new Map);let s=o.get(n);s||o.set(n,s=Fe());const r=process.env.NODE_ENV!=="production"?{effect:V,target:e,type:t,key:n}:void 0;Dn(s,r)}}function Dn(e,t){let n=!1;re<=Be?Et(e)||(e.n|=B,n=!wt(e)):n=!e.has(V),n&&(e.add(V),V.deps.push(e),process.env.NODE_ENV!=="production"&&V.onTrack&&V.onTrack(M({effect:V},t)))}function z(e,t,n,o,s,r){const i=He.get(e);if(!i)return;let c=[];if(t==="clear")c=[...i.values()];else if(n==="length"&&h(e)){const u=Number(o);i.forEach((f,m)=>{(m==="length"||!he(m)&&m>=u)&&c.push(f)})}else switch(n!==void 0&&c.push(i.get(n)),t){case"add":h(e)?De(n)&&c.push(i.get("length")):(c.push(i.get(q)),X(e)&&c.push(i.get(ze)));break;case"delete":h(e)||(c.push(i.get(q)),X(e)&&c.push(i.get(ze)));break;case"set":X(e)&&c.push(i.get(q));break}const a=process.env.NODE_ENV!=="production"?{target:e,type:t,key:n,newValue:o,oldValue:s,oldTarget:r}:void 0;if(c.length===1)c[0]&&(process.env.NODE_ENV!=="production"?ge(c[0],a):ge(c[0]));else{const u=[];for(const f of c)f&&u.push(...f);process.env.NODE_ENV!=="production"?ge(Fe(u),a):ge(Fe(u))}}function ge(e,t){const n=h(e)?e:[...e];for(const o of n)o.computed&&Ot(o,t);for(const o of n)o.computed||Ot(o,t)}function Ot(e,t){(e!==V||e.allowRecurse)&&(process.env.NODE_ENV!=="production"&&e.onTrigger&&e.onTrigger(M({effect:e},t)),e.scheduler?e.scheduler():e.run())}const $n=dn("__proto__,__v_isRef,__isVue"),St=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(he)),Vt=jn();function jn(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=p(this);for(let r=0,i=this.length;r<i;r++)v(o,"get",r+"");const s=o[t](...n);return s===-1||s===!1?o[t](...n.map(p)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ke();const o=p(this)[t].apply(this,n);return Ke(),o}}),e}function An(e){const t=p(this);return v(t,"has",e),t.hasOwnProperty(e)}class vt{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,o){const s=this._isReadonly,r=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw"&&o===(s?r?Dt:Pt:r?Yn:Mt).get(t))return t;const i=h(t);if(!s){if(i&&g(Vt,n))return Reflect.get(Vt,n,o);if(n==="hasOwnProperty")return An}const c=Reflect.get(t,n,o);return(he(n)?St.has(n):$n(n))||(s||v(t,"get",n),r)?c:x(c)?i&&De(n)?c:c.value:R(c)?s?jt(c):$t(c):c}}class Fn extends vt{constructor(t=!1){super(!1,t)}set(t,n,o,s){let r=t[n];if(ie(r)&&x(r)&&!x(o))return!1;if(!this._shallow&&(!qe(o)&&!ie(o)&&(r=p(r),o=p(o)),!h(t)&&x(r)&&!x(o)))return r.value=o,!0;const i=h(t)&&De(n)?Number(n)<t.length:g(t,n),c=Reflect.set(t,n,o,s);return t===p(s)&&(i?Z(o,r)&&z(t,"set",n,o,r):z(t,"add",n,o)),c}deleteProperty(t,n){const o=g(t,n),s=t[n],r=Reflect.deleteProperty(t,n);return r&&o&&z(t,"delete",n,void 0,s),r}has(t,n){const o=Reflect.has(t,n);return(!he(n)||!St.has(n))&&v(t,"has",n),o}ownKeys(t){return v(t,"iterate",h(t)?"length":q),Reflect.ownKeys(t)}}class xt extends vt{constructor(t=!1){super(!0,t)}set(t,n){return process.env.NODE_ENV!=="production"&&gt(`Set operation on key "${String(n)}" failed: target is readonly.`,t),!0}deleteProperty(t,n){return process.env.NODE_ENV!=="production"&&gt(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),!0}}const Hn=new Fn,Bn=new xt,zn=new xt(!0),Le=e=>e,me=e=>Reflect.getPrototypeOf(e);function we(e,t,n=!1,o=!1){e=e.__v_raw;const s=p(e),r=p(t);n||(Z(t,r)&&v(s,"get",t),v(s,"get",r));const{has:i}=me(s),c=o?Le:n?Ye:Je;if(i.call(s,t))return c(e.get(t));if(i.call(s,r))return c(e.get(r));e!==s&&e.get(t)}function Ee(e,t=!1){const n=this.__v_raw,o=p(n),s=p(e);return t||(Z(e,s)&&v(o,"has",e),v(o,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Ne(e,t=!1){return e=e.__v_raw,!t&&v(p(e),"iterate",q),Reflect.get(e,"size",e)}function yt(e){e=p(e);const t=p(this);return me(t).has.call(t,e)||(t.add(e),z(t,"add",e,e)),this}function Ct(e,t){t=p(t);const n=p(this),{has:o,get:s}=me(n);let r=o.call(n,e);r?process.env.NODE_ENV!=="production"&&It(n,o,e):(e=p(e),r=o.call(n,e));const i=s.call(n,e);return n.set(e,t),r?Z(t,i)&&z(n,"set",e,t,i):z(n,"add",e,t),this}function Tt(e){const t=p(this),{has:n,get:o}=me(t);let s=n.call(t,e);s?process.env.NODE_ENV!=="production"&&It(t,n,e):(e=p(e),s=n.call(t,e));const r=o?o.call(t,e):void 0,i=t.delete(e);return s&&z(t,"delete",e,void 0,r),i}function Rt(){const e=p(this),t=e.size!==0,n=process.env.NODE_ENV!=="production"?X(e)?new Map(e):new Set(e):void 0,o=e.clear();return t&&z(e,"clear",void 0,void 0,n),o}function be(e,t){return function(o,s){const r=this,i=r.__v_raw,c=p(i),a=t?Le:e?Ye:Je;return!e&&v(c,"iterate",q),i.forEach((u,f)=>o.call(s,a(u),a(f),r))}}function Oe(e,t,n){return function(...o){const s=this.__v_raw,r=p(s),i=X(r),c=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,u=s[e](...o),f=n?Le:t?Ye:Je;return!t&&v(r,"iterate",a?ze:q),{next(){const{value:m,done:w}=u.next();return w?{value:m,done:w}:{value:c?[f(m[0]),f(m[1])]:f(m),done:w}},[Symbol.iterator](){return this}}}}function k(e){return function(...t){if(process.env.NODE_ENV!=="production"){const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${ht(e)} operation ${n}failed: target is readonly.`,p(this))}return e==="delete"?!1:e==="clear"?void 0:this}}function kn(){const e={get(r){return we(this,r)},get size(){return Ne(this)},has:Ee,add:yt,set:Ct,delete:Tt,clear:Rt,forEach:be(!1,!1)},t={get(r){return we(this,r,!1,!0)},get size(){return Ne(this)},has:Ee,add:yt,set:Ct,delete:Tt,clear:Rt,forEach:be(!1,!0)},n={get(r){return we(this,r,!0)},get size(){return Ne(this,!0)},has(r){return Ee.call(this,r,!0)},add:k("add"),set:k("set"),delete:k("delete"),clear:k("clear"),forEach:be(!0,!1)},o={get(r){return we(this,r,!0,!0)},get size(){return Ne(this,!0)},has(r){return Ee.call(this,r,!0)},add:k("add"),set:k("set"),delete:k("delete"),clear:k("clear"),forEach:be(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Oe(r,!1,!1),n[r]=Oe(r,!0,!1),t[r]=Oe(r,!1,!0),o[r]=Oe(r,!0,!0)}),[e,n,t,o]}const[Kn,Ln,Un,Wn]=kn();function Ue(e,t){const n=t?e?Wn:Un:e?Ln:Kn;return(o,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get(g(n,s)&&s in o?n:o,s,r)}const qn={get:Ue(!1,!1)},Gn={get:Ue(!0,!1)},Jn={get:Ue(!0,!0)};function It(e,t,n){const o=p(n);if(o!==n&&t.call(e,o)){const s=pt(e);console.warn(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Mt=new WeakMap,Yn=new WeakMap,Pt=new WeakMap,Dt=new WeakMap;function Qn(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xn(e){return e.__v_skip||!Object.isExtensible(e)?0:Qn(pt(e))}function $t(e){return ie(e)?e:We(e,!1,Hn,qn,Mt)}function jt(e){return We(e,!0,Bn,Gn,Pt)}function Se(e){return We(e,!0,zn,Jn,Dt)}function We(e,t,n,o,s){if(!R(e))return process.env.NODE_ENV!=="production"&&console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const i=Xn(e);if(i===0)return e;const c=new Proxy(e,i===2?o:n);return s.set(e,c),c}function ee(e){return ie(e)?ee(e.__v_raw):!!(e&&e.__v_isReactive)}function ie(e){return!!(e&&e.__v_isReadonly)}function qe(e){return!!(e&&e.__v_isShallow)}function Ge(e){return ee(e)||ie(e)}function p(e){const t=e&&e.__v_raw;return t?p(t):e}function Zn(e){return Vn(e,"__v_skip",!0),e}const Je=e=>R(e)?$t(e):e,Ye=e=>R(e)?jt(e):e;function x(e){return!!(e&&e.__v_isRef===!0)}function es(e){return x(e)?e.value:e}const ts={get:(e,t,n)=>es(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const s=e[t];return x(s)&&!x(n)?(s.value=n,!0):Reflect.set(e,t,n,o)}};function ns(e){return ee(e)?e:new Proxy(e,ts)}const J=[];function ss(e){J.push(e)}function os(){J.pop()}function N(e,...t){if(process.env.NODE_ENV==="production")return;ke();const n=J.length?J[J.length-1].component:null,o=n&&n.appContext.config.warnHandler,s=rs();if(o)Y(o,n,11,[e+t.join(""),n&&n.proxy,s.map(({vnode:r})=>`at <${on(n,r.type)}>`).join(`
`),s]);else{const r=[`[Vue warn]: ${e}`,...t];s.length&&r.push(`
`,...is(s)),console.warn(...r)}Ke()}function rs(){let e=J[J.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function is(e){const t=[];return e.forEach((n,o)=>{t.push(...o===0?[]:[`
`],...cs(n))}),t}function cs({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,s=` at <${on(e.component,e.type,o)}`,r=">"+n;return e.props?[s,...ls(e.props),r]:[s+r]}function ls(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(o=>{t.push(...At(o,e[o]))}),n.length>3&&t.push(" ..."),t}function At(e,t,n){return T(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:x(t)?(t=At(e,p(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):b(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=p(t),n?t:[`${e}=`,t])}const Qe={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function Y(e,t,n,o){let s;try{s=o?e(...o):e()}catch(r){Ft(r,t,n)}return s}function Ve(e,t,n,o){if(b(e)){const r=Y(e,t,n,o);return r&&Nn(r)&&r.catch(i=>{Ft(i,t,n)}),r}const s=[];for(let r=0;r<e.length;r++)s.push(Ve(e[r],t,n,o));return s}function Ft(e,t,n,o=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,c=process.env.NODE_ENV!=="production"?Qe[n]:n;for(;r;){const u=r.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,i,c)===!1)return}r=r.parent}const a=t.appContext.config.errorHandler;if(a){Y(a,null,10,[e,i,c]);return}}as(e,n,s,o)}function as(e,t,n,o=!0){if(process.env.NODE_ENV!=="production"){const s=Qe[t];if(n&&ss(n),N(`Unhandled error${s?` during execution of ${s}`:""}`),n&&os(),o)throw e;console.error(e)}else console.error(e)}let ve=!1,Xe=!1;const I=[];let K=0;const te=[];let P=null,L=0;const Ht=Promise.resolve();let Ze=null;const us=100;function fs(e){const t=Ze||Ht;return e?t.then(this?e.bind(this):e):t}function ps(e){let t=K+1,n=I.length;for(;t<n;){const o=t+n>>>1,s=I[o],r=ce(s);r<e||r===e&&s.pre?t=o+1:n=o}return t}function et(e){(!I.length||!I.includes(e,ve&&e.allowRecurse?K+1:K))&&(e.id==null?I.push(e):I.splice(ps(e.id),0,e),Bt())}function Bt(){!ve&&!Xe&&(Xe=!0,Ze=Ht.then(kt))}function zt(e){h(e)?te.push(...e):(!P||!P.includes(e,e.allowRecurse?L+1:L))&&te.push(e),Bt()}function ds(e){if(te.length){const t=[...new Set(te)];if(te.length=0,P){P.push(...t);return}for(P=t,process.env.NODE_ENV!=="production"&&(e=e||new Map),P.sort((n,o)=>ce(n)-ce(o)),L=0;L<P.length;L++)process.env.NODE_ENV!=="production"&&Kt(e,P[L])||P[L]();P=null,L=0}}const ce=e=>e.id==null?1/0:e.id,hs=(e,t)=>{const n=ce(e)-ce(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function kt(e){Xe=!1,ve=!0,process.env.NODE_ENV!=="production"&&(e=e||new Map),I.sort(hs);const t=process.env.NODE_ENV!=="production"?n=>Kt(e,n):ft;try{for(K=0;K<I.length;K++){const n=I[K];if(n&&n.active!==!1){if(process.env.NODE_ENV!=="production"&&t(n))continue;Y(n,null,14)}}}finally{K=0,I.length=0,ds(e),ve=!1,Ze=null,(I.length||te.length)&&kt(e)}}function Kt(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>us){const o=t.ownerInstance,s=o&&sn(o.type);return N(`Maximum recursive updates exceeded${s?` in component <${s}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,n+1)}}const le=new Set;process.env.NODE_ENV!=="production"&&($e().__VUE_HMR_RUNTIME__={createRecord:tt(_s),rerender:tt(gs),reload:tt(ms)});const xe=new Map;function _s(e,t){return xe.has(e)?!1:(xe.set(e,{initialDef:ae(t),instances:new Set}),!0)}function ae(e){return rn(e)?e.__vccOpts:e}function gs(e,t){const n=xe.get(e);!n||(n.initialDef.render=t,[...n.instances].forEach(o=>{t&&(o.render=t,ae(o.type).render=t),o.renderCache=[],o.update()}))}function ms(e,t){const n=xe.get(e);if(!n)return;t=ae(t),Lt(n.initialDef,t);const o=[...n.instances];for(const s of o){const r=ae(s.type);le.has(r)||(r!==n.initialDef&&Lt(r,t),le.add(r)),s.appContext.propsCache.delete(s.type),s.appContext.emitsCache.delete(s.type),s.appContext.optionsCache.delete(s.type),s.ceReload?(le.add(r),s.ceReload(t.styles),le.delete(r)):s.parent?et(s.parent.update):s.appContext.reload?s.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}zt(()=>{for(const s of o)le.delete(ae(s.type))})}function Lt(e,t){M(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function tt(e){return(t,n)=>{try{return e(t,n)}catch(o){console.error(o),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let U=null,ws=null;function uo(){}const Es=Symbol.for("v-ndc"),Ns=e=>e.__isSuspense;function bs(e,t){t&&t.pendingBranch?h(e)?t.effects.push(...e):t.effects.push(e):zt(e)}const ye={};function Os(e,t,{immediate:n,deep:o,flush:s,onTrack:r,onTrigger:i}=H){var c;process.env.NODE_ENV!=="production"&&!t&&(n!==void 0&&N('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),o!==void 0&&N('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const a=_=>{N("Invalid watch source: ",_,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=Rn()===((c=W)==null?void 0:c.scope)?W:null;let f,m=!1,w=!1;if(x(e)?(f=()=>e.value,m=qe(e)):ee(e)?(f=()=>e,o=!0):h(e)?(w=!0,m=e.some(_=>ee(_)||qe(_)),f=()=>e.map(_=>{if(x(_))return _.value;if(ee(_))return ne(_);if(b(_))return Y(_,u,2);process.env.NODE_ENV!=="production"&&a(_)})):b(e)?t?f=()=>Y(e,u,2):f=()=>{if(!(u&&u.isUnmounted))return y&&y(),Ve(e,u,3,[D])}:(f=ft,process.env.NODE_ENV!=="production"&&a(e)),t&&o){const _=f;f=()=>ne(_())}let y,D=_=>{y=S.onStop=()=>{Y(_,u,4),y=S.onStop=void 0}},$=w?new Array(e.length).fill(ye):ye;const j=()=>{if(!!S.active)if(t){const _=S.run();(o||m||(w?_.some((ct,pe)=>Z(ct,$[pe])):Z(_,$)))&&(y&&y(),Ve(t,u,3,[_,$===ye?void 0:w&&$[0]===ye?[]:$,D]),$=_)}else S.run()};j.allowRecurse=!!t;let A;s==="sync"?A=j:s==="post"?A=()=>Jt(j,u&&u.suspense):(j.pre=!0,u&&(j.id=u.uid),A=()=>et(j));const S=new Pn(f,A);return process.env.NODE_ENV!=="production"&&(S.onTrack=r,S.onTrigger=i),t?n?j():$=S.run():s==="post"?Jt(S.run.bind(S),u&&u.suspense):S.run(),()=>{S.stop(),u&&u.scope&&mn(u.scope.effects,S)}}function Ss(e,t,n){const o=this.proxy,s=T(e)?e.includes(".")?Vs(o,e):()=>o[e]:e.bind(o,o);let r;b(t)?r=t:(r=t.handler,n=t);const i=W;it(this);const c=Os(s,r.bind(o),n);return i?it(i):nn(),c}function Vs(e,t){const n=t.split(".");return()=>{let o=e;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o}}function ne(e,t){if(!R(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),x(e))ne(e.value,t);else if(h(e))for(let n=0;n<e.length;n++)ne(e[n],t);else if(En(e)||X(e))e.forEach(n=>{ne(n,t)});else if(On(e))for(const n in e)ne(e[n],t);return e}function vs(e,t,n=W,o=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;ke(),it(n);const c=Ve(t,n,e,i);return nn(),Ke(),c});return o?s.unshift(r):s.push(r),r}else if(process.env.NODE_ENV!=="production"){const s=Sn(Qe[e].replace(/ hook$/,""));N(`${s} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const xs=(e=>(t,n=W)=>vs(e,(...o)=>t(...o),n))("bum"),nt=e=>e?Ls(e)?Us(e)||e.proxy:nt(e.parent):null,ue=M(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>process.env.NODE_ENV!=="production"?Se(e.props):e.props,$attrs:e=>process.env.NODE_ENV!=="production"?Se(e.attrs):e.attrs,$slots:e=>process.env.NODE_ENV!=="production"?Se(e.slots):e.slots,$refs:e=>process.env.NODE_ENV!=="production"?Se(e.refs):e.refs,$parent:e=>nt(e.parent),$root:e=>nt(e.root),$emit:e=>e.emit,$options:e=>Ts(e),$forceUpdate:e=>e.f||(e.f=()=>et(e.update)),$nextTick:e=>e.n||(e.n=fs.bind(e.proxy)),$watch:e=>Ss.bind(e)}),ys=e=>e==="_"||e==="$",st=(e,t)=>e!==H&&!e.__isScriptSetup&&g(e,t),Cs={get({_:e},t){const{ctx:n,setupState:o,data:s,props:r,accessCache:i,type:c,appContext:a}=e;if(process.env.NODE_ENV!=="production"&&t==="__isVue")return!0;let u;if(t[0]!=="$"){const y=i[t];if(y!==void 0)switch(y){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(st(o,t))return i[t]=1,o[t];if(s!==H&&g(s,t))return i[t]=2,s[t];if((u=e.propsOptions[0])&&g(u,t))return i[t]=3,r[t];if(n!==H&&g(n,t))return i[t]=4,n[t];i[t]=0}}const f=ue[t];let m,w;if(f)return t==="$attrs"?(v(e,"get",t),process.env.NODE_ENV!=="production"&&void 0):process.env.NODE_ENV!=="production"&&t==="$slots"&&v(e,"get",t),f(e);if((m=c.__cssModules)&&(m=m[t]))return m;if(n!==H&&g(n,t))return i[t]=4,n[t];if(w=a.config.globalProperties,g(w,t))return w[t];process.env.NODE_ENV!=="production"&&U&&(!T(t)||t.indexOf("__v")!==0)&&(s!==H&&ys(t[0])&&g(s,t)?N(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===U&&N(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:o,setupState:s,ctx:r}=e;return st(s,t)?(s[t]=n,!0):process.env.NODE_ENV!=="production"&&s.__isScriptSetup&&g(s,t)?(N(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):o!==H&&g(o,t)?(o[t]=n,!0):g(e.props,t)?(process.env.NODE_ENV!=="production"&&N(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(process.env.NODE_ENV!=="production"&&N(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(process.env.NODE_ENV!=="production"&&t in e.appContext.config.globalProperties?Object.defineProperty(r,t,{enumerable:!0,configurable:!0,value:n}):r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:s,propsOptions:r}},i){let c;return!!n[i]||e!==H&&g(e,i)||st(t,i)||(c=r[0])&&g(c,i)||g(o,i)||g(ue,i)||g(s.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:g(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};process.env.NODE_ENV!=="production"&&(Cs.ownKeys=e=>(N("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e)));function Ut(e){return h(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Ts(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,c=r.get(t);let a;return c?a=c:!s.length&&!n&&!o?a=t:(a={},s.length&&s.forEach(u=>Ce(a,u,i,!0)),Ce(a,t,i)),R(t)&&r.set(t,a),a}function Ce(e,t,n,o=!1){const{mixins:s,extends:r}=t;r&&Ce(e,r,n,!0),s&&s.forEach(i=>Ce(e,i,n,!0));for(const i in t)if(o&&i==="expose")process.env.NODE_ENV!=="production"&&N('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const c=Rs[i]||n&&n[i];e[i]=c?c(e[i],t[i]):t[i]}return e}const Rs={data:Wt,props:Gt,emits:Gt,methods:fe,computed:fe,beforeCreate:O,created:O,beforeMount:O,mounted:O,beforeUpdate:O,updated:O,beforeDestroy:O,beforeUnmount:O,destroyed:O,unmounted:O,activated:O,deactivated:O,errorCaptured:O,serverPrefetch:O,components:fe,directives:fe,watch:Ms,provide:Wt,inject:Is};function Wt(e,t){return t?e?function(){return M(b(e)?e.call(this,this):e,b(t)?t.call(this,this):t)}:t:e}function Is(e,t){return fe(qt(e),qt(t))}function qt(e){if(h(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function O(e,t){return e?[...new Set([].concat(e,t))]:t}function fe(e,t){return e?M(Object.create(null),e,t):t}function Gt(e,t){return e?h(e)&&h(t)?[...new Set([...e,...t])]:M(Object.create(null),Ut(e),Ut(t!=null?t:{})):t}function Ms(e,t){if(!e)return t;if(!t)return e;const n=M(Object.create(null),e);for(const o in t)n[o]=O(e[o],t[o]);return n}function Ps(){return{app:null,config:{isNativeTag:hn,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}const Jt=bs,Ds=e=>e.__isTeleport,Yt=Symbol.for("v-fgt"),$s=Symbol.for("v-txt"),js=Symbol.for("v-cmt");let se=null;function As(e){return e?e.__v_isVNode===!0:!1}const Fs=(...e)=>Zt(...e),Qt="__vInternal",Xt=({key:e})=>e!=null?e:null,Te=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?T(e)||x(e)||b(e)?{i:U,r:e,k:t,f:!!n}:e:null);function Hs(e,t=null,n=null,o=0,s=null,r=e===Yt?0:1,i=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Xt(t),ref:t&&Te(t),scopeId:ws,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:U};return c?(ot(a,n),r&128&&e.normalize(a)):n&&(a.shapeFlag|=T(n)?8:16),process.env.NODE_ENV!=="production"&&a.key!==a.key&&N("VNode created with invalid key (NaN). VNode type:",a.type),!i&&se&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&se.push(a),a}const Bs=process.env.NODE_ENV!=="production"?Fs:Zt;function Zt(e,t=null,n=null,o=0,s=null,r=!1){if((!e||e===Es)&&(process.env.NODE_ENV!=="production"&&!e&&N(`Invalid vnode type when creating vnode: ${e}.`),e=js),As(e)){const c=Re(e,t,!0);return n&&ot(c,n),!r&&se&&(c.shapeFlag&6?se[se.indexOf(e)]=c:se.push(c)),c.patchFlag|=-2,c}if(rn(e)&&(e=e.__vccOpts),t){t=zs(t);let{class:c,style:a}=t;c&&!T(c)&&(t.class=Ae(c)),R(a)&&(Ge(a)&&!h(a)&&(a=M({},a)),t.style=je(a))}const i=T(e)?1:Ns(e)?128:Ds(e)?64:R(e)?4:b(e)?2:0;return process.env.NODE_ENV!=="production"&&i&4&&Ge(e)&&(e=p(e),N("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),Hs(e,t,n,o,s,i,r,!0)}function zs(e){return e?Ge(e)||Qt in e?M({},e):e:null}function Re(e,t,n=!1){const{props:o,ref:s,patchFlag:r,children:i}=e,c=t?Ks(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Xt(c),ref:t&&t.ref?n&&s?h(s)?s.concat(Te(t)):[s,Te(t)]:Te(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:process.env.NODE_ENV!=="production"&&r===-1&&h(i)?i.map(en):i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Yt?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Re(e.ssContent),ssFallback:e.ssFallback&&Re(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function en(e){const t=Re(e);return h(e.children)&&(t.children=e.children.map(en)),t}function ks(e=" ",t=0){return Bs($s,null,e,t)}function ot(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(h(t))n=16;else if(typeof t=="object")if(o&65){const s=t.default;s&&(s._c&&(s._d=!1),ot(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Qt in t)?t._ctx=U:s===3&&U&&(U.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else b(t)?(t={default:t,_ctx:U},n=32):(t=String(t),o&64?(n=16,t=[ks(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ks(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const s in o)if(s==="class")t.class!==o.class&&(t.class=Ae([t.class,o.class]));else if(s==="style")t.style=je([t.style,o.style]);else if(gn(s)){const r=t[s],i=o[s];i&&r!==i&&!(h(r)&&r.includes(i))&&(t[s]=r?[].concat(r,i):i)}else s!==""&&(t[s]=o[s])}return t}Ps();let W=null,rt,oe,tn="__VUE_INSTANCE_SETTERS__";(oe=$e()[tn])||(oe=$e()[tn]=[]),oe.push(e=>W=e),rt=e=>{oe.length>1?oe.forEach(t=>t(e)):oe[0](e)};const it=e=>{rt(e),e.scope.on()},nn=()=>{W&&W.scope.off(),rt(null)};function Ls(e){return e.vnode.shapeFlag&4}function Us(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ns(Zn(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ue)return ue[n](e)},has(t,n){return n in t||n in ue}}))}const Ws=/(?:^|[-_])(\w)/g,qs=e=>e.replace(Ws,t=>t.toUpperCase()).replace(/[-_]/g,"");function sn(e,t=!0){return b(e)?e.displayName||e.name:e.name||t&&e.__name}function on(e,t,n=!1){let o=sn(t);if(!o&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(o=s[1])}if(!o&&e&&e.parent){const s=r=>{for(const i in r)if(r[i]===t)return i};o=s(e.components||e.parent.type.components)||s(e.appContext.components)}return o?qs(o):n?"App":"Anonymous"}function rn(e){return b(e)&&"__vccOpts"in e}const Gs=["id","onFocus","onBlur"],Js={class:"lkt-field__select"},Ys=["onClick"],Qs={key:0,class:"lkt-field__select-dropdown"},Xs={class:"lkt-field__select-search-container"},Zs={key:0,class:"lkt-field__select-options"},eo=["onClick"],to=["innerHTML","onClick"],no={name:"LktFieldSelect",inheritAttrs:!1},so=l.defineComponent({...no,props:{modelValue:{type:[String,Number,Array],default:""},placeholder:{type:String,default:""},label:{type:String,default:""},palette:{type:String,default:""},name:{type:String,default:F.generateRandomString(16)},valid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},emptyLabel:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},disabledOptions:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!1},canTag:{type:Boolean,default:!1},noOptionsMessage:{type:String,default:fn()},resource:{type:String,default:()=>null},searchStringResourceParam:{type:String,default:"query"},searchOptions:{type:[Object,Function],default:()=>null},searchPlaceholder:{type:String,default:""}},emits:["update:modelValue","click-ui"],setup(e,{expose:t,emit:n}){const o=n,s=e,r=l.ref(null),i=l.ref(null),c=F.generateRandomString(16),a=l.ref(new at(s.searchOptions)),u=l.ref(new ut(s.options)),f=l.ref(!1),m=l.ref(s.modelValue),w=l.ref(s.modelValue),y=l.ref(!1),D=l.ref(!1),$=l.ref(u.value.all()),j=l.ref(u.value.all()),A=l.ref("");s.closeOnSelect===null?f.value=s.multiple===!0:f.value=s.closeOnSelect,l.computed(()=>un.existsHTTPResource(s.resource));const S=l.computed(()=>typeof s.valid=="function"?s.valid():s.valid),cn=l.computed(()=>w.value!==m.value),_=l.computed(()=>{const d=["lkt-field","lkt-field-select"];return s.palette&&d.push(`lkt-field--${s.palette}`),cn.value&&d.push("is-changed"),s.multiple&&d.push("is-multiple"),s.disabled&&d.push("is-disabled"),D.value&&d.push("has-focus"),d.push(S.value?"is-valid":"is-error"),d.push(s.modelValue?"is-filled":"is-empty"),d.join(" ")}),ct=l.computed(()=>{let d="";return j.value.forEach(Q=>{Q.value==w.value&&(d=Q.label)}),d}),pe=()=>{j.value=u.value.all(),$.value=u.value.filter(A.value)},ln=()=>{A.value="",pe()},ro=()=>{w.value=m.value},io=()=>s.modelValue,Ie=()=>{ln(),D.value=!D.value,D.value&&l.nextTick(()=>{r.value.focus(),l.nextTick(()=>{r.value.focus()})})};l.watch(()=>s.modelValue,d=>{w.value=d}),l.watch(w,d=>{o("update:modelValue",d),y.value=!0,l.nextTick(()=>y.value=!1)}),l.watch(A,pe),l.watch(()=>s.searchOptions,d=>{a.value=new at(d)}),l.watch(()=>s.options,d=>{u.value=new ut(d)}),pe();const co=d=>{w.value=d.value,D.value=!1},an=d=>{const Q=["is-select","lkt-field__select","lkt-field__select-value","lkt-field__select-dropdown","lkt-field__select-search-container","lkt-field__select-options","lkt-field__select-option","lkt-field__select-search"],de=d.target;let C=!1;Q.forEach(lt=>{(de.className.includes(lt)||de.parentElement&&de.parentElement.className.includes(lt))&&(C=!0)}),C||(ln(),D.value=!1)};return window.addEventListener("click",an),xs(()=>{window.removeEventListener("click",an)}),t({reset:ro,value:io}),(d,Q)=>{const de=l.resolveComponent("lkt-field-text");return l.openBlock(),l.createElementBlock("div",{class:l.normalizeClass(_.value),"data-show-ui":!1},[l.renderSlot(d.$slots,"prefix"),l.createElementVNode("select",{ref:C=>i.value=C,id:l.unref(c),onFocus:l.withModifiers(Ie,["stop","prevent"]),onBlur:l.withModifiers(Ie,["stop","prevent"]),style:{height:"0",opacity:"0",width:"0"}},null,40,Gs),l.createElementVNode("div",Js,[l.createElementVNode("div",{class:"lkt-field__select-value",onClick:l.withModifiers(Ie,["stop","prevent"])},l.toDisplayString(ct.value),9,Ys),D.value?(l.openBlock(),l.createElementBlock("div",Qs,[l.createElementVNode("div",Xs,[l.createVNode(de,{ref:C=>r.value=C,modelValue:A.value,"onUpdate:modelValue":Q[0]||(Q[0]=C=>A.value=C),placeholder:e.searchPlaceholder,tabindex:-1,class:"lkt-field__select-search"},null,8,["modelValue","placeholder"])]),e.readonly?l.createCommentVNode("",!0):(l.openBlock(),l.createElementBlock("ul",Zs,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList($.value,C=>(l.openBlock(),l.createElementBlock("li",{class:l.normalizeClass(["lkt-field__select-option",{"is-active":C.value==w.value}]),onClick:l.withModifiers(lt=>co(C),["prevent","stop"])},l.toDisplayString(C.label),11,eo))),256))]))])):l.createCommentVNode("",!0)]),l.createElementVNode("label",{innerHTML:e.label,onClick:l.withModifiers(Ie,["stop","prevent"])},null,8,to)],2)}}}),oo={install:e=>{e.component("lkt-field-select",so)}};E.default=oo,E.setNoOptionsMessage=pn,Object.defineProperties(E,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
