(function(b,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("vue"),require("lkt-string-tools"),require("lkt-http-client")):typeof define=="function"&&define.amd?define(["exports","vue","lkt-string-tools","lkt-http-client"],l):(b=typeof globalThis<"u"?globalThis:b||self,l(b.LktFieldSelect={},b.Vue,b.LktStringTools,b.LktHttpClient))})(this,function(b,l,H,wn){"use strict";var Bs=Object.defineProperty;var As=(b,l,H)=>l in b?Bs(b,l,{enumerable:!0,configurable:!0,writable:!0,value:H}):b[l]=H;var Oe=(b,l,H)=>(As(b,typeof l!="symbol"?l+"":l,H),H);class x{}Oe(x,"NO_OPTIONS_MESSAGE",""),Oe(x,"customResourceOptionSlots",{}),Oe(x,"customResourceValueSlots",{});const Nn=()=>x.NO_OPTIONS_MESSAGE,On=e=>(x.NO_OPTIONS_MESSAGE=e,!0),Sn=(e,t)=>(x.customResourceOptionSlots[e]=t,!0),bn=(e,t)=>(x.customResourceValueSlots[e]=t,!0);class gt{constructor(t=[]){Oe(this,"value");Array.isArray(t)||(t=[]),this.value=[...t]}all(){return this.value}filter(t){if(t==="")return this.all();const n=t.toLowerCase();return this.value.filter(s=>s.label.toLowerCase().indexOf(n)!==-1)}receiveOptions(t){const n=new Set,s=[...this.value,...t],o=[];s.forEach(r=>{let i=[r.value,r.label].join("-");n.has(i)||(o.push(r),n.add(i))}),this.value=o}}function yn(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const F=process.env.NODE_ENV!=="production"?Object.freeze({}):{};process.env.NODE_ENV!=="production"&&Object.freeze([]);const G=()=>{},Vn=()=>!1,vn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),$=Object.assign,Cn=Object.prototype.hasOwnProperty,E=(e,t)=>Cn.call(e,t),_=Array.isArray,ee=e=>be(e)==="[object Map]",Rn=e=>be(e)==="[object Set]",y=e=>typeof e=="function",M=e=>typeof e=="string",Se=e=>typeof e=="symbol",T=e=>e!==null&&typeof e=="object",xn=e=>(T(e)||y(e))&&y(e.then)&&y(e.catch),Mn=Object.prototype.toString,be=e=>Mn.call(e),Et=e=>be(e).slice(8,-1),Tn=e=>be(e)==="[object Object]",je=e=>M(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,wt=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Nt=wt(e=>e.charAt(0).toUpperCase()+e.slice(1)),kn=wt(e=>e?`on${Nt(e)}`:""),te=(e,t)=>!Object.is(e,t),In=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};let Ot;const St=()=>Ot||(Ot=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function He(e){if(_(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=M(s)?Bn(s):He(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(M(e)||T(e))return e}const Pn=/;(?![^(]*\))/g,Dn=/:([^]+)/,$n=/\/\*[^]*?\*\//g;function Bn(e){const t={};return e.replace($n,"").split(Pn).forEach(n=>{if(n){const s=n.split(Dn);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Fe(e){let t="";if(M(e))t=e;else if(_(e))for(let n=0;n<e.length;n++){const s=Fe(e[n]);s&&(t+=s+" ")}else if(T(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function bt(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let An;function Ln(e,t=An){t&&t.active&&t.effects.push(e)}let ce;class jn{constructor(t,n,s,o){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=3,this._trackId=0,this._runnings=0,this._queryings=0,this._depsLength=0,Ln(this,o)}get dirty(){if(this._dirtyLevel===1){this._dirtyLevel=0,this._queryings++,ye();for(const t of this.deps)if(t.computed&&(Hn(t.computed),this._dirtyLevel>=2))break;Ve(),this._queryings--}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?3:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=J,n=ce;try{return J=!0,ce=this,this._runnings++,yt(this),this.fn()}finally{Vt(this),this._runnings--,ce=n,J=t}}stop(){var t;this.active&&(yt(this),Vt(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Hn(e){return e.value}function yt(e){e._trackId++,e._depsLength=0}function Vt(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)vt(e.deps[t],e);e.deps.length=e._depsLength}}function vt(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let J=!0,Ke=0;const Ct=[];function ye(){Ct.push(J),J=!1}function Ve(){const e=Ct.pop();J=e===void 0?!0:e}function ze(){Ke++}function Ue(){for(Ke--;!Ke&&We.length;)We.shift()()}function Fn(e,t,n){var s;if(t.get(e)!==e._trackId){t.set(e,e._trackId);const o=e.deps[e._depsLength];o!==t?(o&&vt(o,e),e.deps[e._depsLength++]=t):e._depsLength++,process.env.NODE_ENV!=="production"&&((s=e.onTrack)==null||s.call(e,$({effect:e},n)))}}const We=[];function Kn(e,t,n){var s;ze();for(const o of e.keys())if(!(!o.allowRecurse&&o._runnings)&&o._dirtyLevel<t&&(!o._runnings||t!==2)){const r=o._dirtyLevel;o._dirtyLevel=t,r===0&&(!o._queryings||t!==2)&&(process.env.NODE_ENV!=="production"&&((s=o.onTrigger)==null||s.call(o,$({effect:o},n))),o.trigger(),o.scheduler&&We.push(o.scheduler))}Ue()}const zn=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},qe=new WeakMap,Y=Symbol(process.env.NODE_ENV!=="production"?"iterate":""),Ge=Symbol(process.env.NODE_ENV!=="production"?"Map key iterate":"");function R(e,t,n){if(J&&ce){let s=qe.get(e);s||qe.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=zn(()=>s.delete(n))),Fn(ce,o,process.env.NODE_ENV!=="production"?{target:e,type:t,key:n}:void 0)}}function K(e,t,n,s,o,r){const i=qe.get(e);if(!i)return;let c=[];if(t==="clear")c=[...i.values()];else if(n==="length"&&_(e)){const a=Number(s);i.forEach((f,g)=>{(g==="length"||!Se(g)&&g>=a)&&c.push(f)})}else switch(n!==void 0&&c.push(i.get(n)),t){case"add":_(e)?je(n)&&c.push(i.get("length")):(c.push(i.get(Y)),ee(e)&&c.push(i.get(Ge)));break;case"delete":_(e)||(c.push(i.get(Y)),ee(e)&&c.push(i.get(Ge)));break;case"set":ee(e)&&c.push(i.get(Y));break}ze();for(const a of c)a&&Kn(a,3,process.env.NODE_ENV!=="production"?{target:e,type:t,key:n,newValue:s,oldValue:o,oldTarget:r}:void 0);Ue()}const Un=yn("__proto__,__v_isRef,__isVue"),Rt=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Se)),xt=Wn();function Wn(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=p(this);for(let r=0,i=this.length;r<i;r++)R(s,"get",r+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(p)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ye(),ze();const s=p(this)[t].apply(this,n);return Ue(),Ve(),s}}),e}function qn(e){const t=p(this);return R(t,"has",e),t.hasOwnProperty(e)}class Mt{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,s){const o=this._isReadonly,r=this._shallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(o?r?Lt:At:r?lo:Bt).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=_(t);if(!o){if(i&&E(xt,n))return Reflect.get(xt,n,s);if(n==="hasOwnProperty")return qn}const c=Reflect.get(t,n,s);return(Se(n)?Rt.has(n):Un(n))||(o||R(t,"get",n),r)?c:k(c)?i&&je(n)?c:c.value:T(c)?o?Ht(c):jt(c):c}}class Gn extends Mt{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(!this._shallow){const a=ae(r);if(!Xe(s)&&!ae(s)&&(r=p(r),s=p(s)),!_(t)&&k(r)&&!k(s))return a?!1:(r.value=s,!0)}const i=_(t)&&je(n)?Number(n)<t.length:E(t,n),c=Reflect.set(t,n,s,o);return t===p(o)&&(i?te(s,r)&&K(t,"set",n,s,r):K(t,"add",n,s)),c}deleteProperty(t,n){const s=E(t,n),o=t[n],r=Reflect.deleteProperty(t,n);return r&&s&&K(t,"delete",n,void 0,o),r}has(t,n){const s=Reflect.has(t,n);return(!Se(n)||!Rt.has(n))&&R(t,"has",n),s}ownKeys(t){return R(t,"iterate",_(t)?"length":Y),Reflect.ownKeys(t)}}class Tt extends Mt{constructor(t=!1){super(!0,t)}set(t,n){return process.env.NODE_ENV!=="production"&&bt(`Set operation on key "${String(n)}" failed: target is readonly.`,t),!0}deleteProperty(t,n){return process.env.NODE_ENV!=="production"&&bt(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),!0}}const Jn=new Gn,Yn=new Tt,Qn=new Tt(!0),Je=e=>e,ve=e=>Reflect.getPrototypeOf(e);function Ce(e,t,n=!1,s=!1){e=e.__v_raw;const o=p(e),r=p(t);n||(te(t,r)&&R(o,"get",t),R(o,"get",r));const{has:i}=ve(o),c=s?Je:n?tt:et;if(i.call(o,t))return c(e.get(t));if(i.call(o,r))return c(e.get(r));e!==o&&e.get(t)}function Re(e,t=!1){const n=this.__v_raw,s=p(n),o=p(e);return t||(te(e,o)&&R(s,"has",e),R(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function xe(e,t=!1){return e=e.__v_raw,!t&&R(p(e),"iterate",Y),Reflect.get(e,"size",e)}function kt(e){e=p(e);const t=p(this);return ve(t).has.call(t,e)||(t.add(e),K(t,"add",e,e)),this}function It(e,t){t=p(t);const n=p(this),{has:s,get:o}=ve(n);let r=s.call(n,e);r?process.env.NODE_ENV!=="production"&&$t(n,s,e):(e=p(e),r=s.call(n,e));const i=o.call(n,e);return n.set(e,t),r?te(t,i)&&K(n,"set",e,t,i):K(n,"add",e,t),this}function Pt(e){const t=p(this),{has:n,get:s}=ve(t);let o=n.call(t,e);o?process.env.NODE_ENV!=="production"&&$t(t,n,e):(e=p(e),o=n.call(t,e));const r=s?s.call(t,e):void 0,i=t.delete(e);return o&&K(t,"delete",e,void 0,r),i}function Dt(){const e=p(this),t=e.size!==0,n=process.env.NODE_ENV!=="production"?ee(e)?new Map(e):new Set(e):void 0,s=e.clear();return t&&K(e,"clear",void 0,void 0,n),s}function Me(e,t){return function(s,o){const r=this,i=r.__v_raw,c=p(i),a=t?Je:e?tt:et;return!e&&R(c,"iterate",Y),i.forEach((f,g)=>s.call(o,a(f),a(g),r))}}function Te(e,t,n){return function(...s){const o=this.__v_raw,r=p(o),i=ee(r),c=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,f=o[e](...s),g=n?Je:t?tt:et;return!t&&R(r,"iterate",a?Ge:Y),{next(){const{value:h,done:v}=f.next();return v?{value:h,done:v}:{value:c?[g(h[0]),g(h[1])]:g(h),done:v}},[Symbol.iterator](){return this}}}}function z(e){return function(...t){if(process.env.NODE_ENV!=="production"){const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${Nt(e)} operation ${n}failed: target is readonly.`,p(this))}return e==="delete"?!1:e==="clear"?void 0:this}}function Xn(){const e={get(r){return Ce(this,r)},get size(){return xe(this)},has:Re,add:kt,set:It,delete:Pt,clear:Dt,forEach:Me(!1,!1)},t={get(r){return Ce(this,r,!1,!0)},get size(){return xe(this)},has:Re,add:kt,set:It,delete:Pt,clear:Dt,forEach:Me(!1,!0)},n={get(r){return Ce(this,r,!0)},get size(){return xe(this,!0)},has(r){return Re.call(this,r,!0)},add:z("add"),set:z("set"),delete:z("delete"),clear:z("clear"),forEach:Me(!0,!1)},s={get(r){return Ce(this,r,!0,!0)},get size(){return xe(this,!0)},has(r){return Re.call(this,r,!0)},add:z("add"),set:z("set"),delete:z("delete"),clear:z("clear"),forEach:Me(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Te(r,!1,!1),n[r]=Te(r,!0,!1),t[r]=Te(r,!1,!0),s[r]=Te(r,!0,!0)}),[e,n,t,s]}const[Zn,eo,to,no]=Xn();function Ye(e,t){const n=t?e?no:to:e?eo:Zn;return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(E(n,o)&&o in s?n:s,o,r)}const oo={get:Ye(!1,!1)},so={get:Ye(!0,!1)},ro={get:Ye(!0,!0)};function $t(e,t,n){const s=p(n);if(s!==n&&t.call(e,s)){const o=Et(e);console.warn(`Reactive ${o} contains both the raw and reactive versions of the same object${o==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Bt=new WeakMap,lo=new WeakMap,At=new WeakMap,Lt=new WeakMap;function io(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function co(e){return e.__v_skip||!Object.isExtensible(e)?0:io(Et(e))}function jt(e){return ae(e)?e:Qe(e,!1,Jn,oo,Bt)}function Ht(e){return Qe(e,!0,Yn,so,At)}function ke(e){return Qe(e,!0,Qn,ro,Lt)}function Qe(e,t,n,s,o){if(!T(e))return process.env.NODE_ENV!=="production"&&console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=o.get(e);if(r)return r;const i=co(e);if(i===0)return e;const c=new Proxy(e,i===2?s:n);return o.set(e,c),c}function ne(e){return ae(e)?ne(e.__v_raw):!!(e&&e.__v_isReactive)}function ae(e){return!!(e&&e.__v_isReadonly)}function Xe(e){return!!(e&&e.__v_isShallow)}function Ze(e){return ne(e)||ae(e)}function p(e){const t=e&&e.__v_raw;return t?p(t):e}function ao(e){return In(e,"__v_skip",!0),e}const et=e=>T(e)?jt(e):e,tt=e=>T(e)?Ht(e):e;function k(e){return!!(e&&e.__v_isRef===!0)}function uo(e){return k(e)?e.value:e}const fo={get:(e,t,n)=>uo(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return k(o)&&!k(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function po(e){return ne(e)?e:new Proxy(e,fo)}const Q=[];function ho(e){Q.push(e)}function _o(){Q.pop()}function m(e,...t){ye();const n=Q.length?Q[Q.length-1].component:null,s=n&&n.appContext.config.warnHandler,o=mo();if(s)X(s,n,11,[e+t.join(""),n&&n.proxy,o.map(({vnode:r})=>`at <${un(n,r.type)}>`).join(`
`),o]);else{const r=[`[Vue warn]: ${e}`,...t];o.length&&r.push(`
`,...go(o)),console.warn(...r)}Ve()}function mo(){let e=Q[Q.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const s=e.component&&e.component.parent;e=s&&s.vnode}return t}function go(e){const t=[];return e.forEach((n,s)=>{t.push(...s===0?[]:[`
`],...Eo(n))}),t}function Eo({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",s=e.component?e.component.parent==null:!1,o=` at <${un(e.component,e.type,s)}`,r=">"+n;return e.props?[o,...wo(e.props),r]:[o+r]}function wo(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(s=>{t.push(...Ft(s,e[s]))}),n.length>3&&t.push(" ..."),t}function Ft(e,t,n){return M(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:k(t)?(t=Ft(e,p(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):y(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=p(t),n?t:[`${e}=`,t])}const nt={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function X(e,t,n,s){let o;try{o=s?e(...s):e()}catch(r){ot(r,t,n)}return o}function ue(e,t,n,s){if(y(e)){const r=X(e,t,n,s);return r&&xn(r)&&r.catch(i=>{ot(i,t,n)}),r}const o=[];for(let r=0;r<e.length;r++)o.push(ue(e[r],t,n,s));return o}function ot(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,c=process.env.NODE_ENV!=="production"?nt[n]:`https://vuejs.org/errors/#runtime-${n}`;for(;r;){const f=r.ec;if(f){for(let g=0;g<f.length;g++)if(f[g](e,i,c)===!1)return}r=r.parent}const a=t.appContext.config.errorHandler;if(a){X(a,null,10,[e,i,c]);return}}No(e,n,o,s)}function No(e,t,n,s=!0){if(process.env.NODE_ENV!=="production"){const o=nt[t];if(n&&ho(n),m(`Unhandled error${o?` during execution of ${o}`:""}`),n&&_o(),s)throw e;console.error(e)}else console.error(e)}let Ie=!1,st=!1;const I=[];let U=0;const oe=[];let B=null,W=0;const Kt=Promise.resolve();let rt=null;const Oo=100;function So(e){const t=rt||Kt;return e?t.then(this?e.bind(this):e):t}function bo(e){let t=U+1,n=I.length;for(;t<n;){const s=t+n>>>1,o=I[s],r=fe(o);r<e||r===e&&o.pre?t=s+1:n=s}return t}function lt(e){(!I.length||!I.includes(e,Ie&&e.allowRecurse?U+1:U))&&(e.id==null?I.push(e):I.splice(bo(e.id),0,e),zt())}function zt(){!Ie&&!st&&(st=!0,rt=Kt.then(Wt))}function Ut(e){_(e)?oe.push(...e):(!B||!B.includes(e,e.allowRecurse?W+1:W))&&oe.push(e),zt()}function yo(e){if(oe.length){const t=[...new Set(oe)];if(oe.length=0,B){B.push(...t);return}for(B=t,process.env.NODE_ENV!=="production"&&(e=e||new Map),B.sort((n,s)=>fe(n)-fe(s)),W=0;W<B.length;W++)process.env.NODE_ENV!=="production"&&qt(e,B[W])||B[W]();B=null,W=0}}const fe=e=>e.id==null?1/0:e.id,Vo=(e,t)=>{const n=fe(e)-fe(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Wt(e){st=!1,Ie=!0,process.env.NODE_ENV!=="production"&&(e=e||new Map),I.sort(Vo);const t=process.env.NODE_ENV!=="production"?n=>qt(e,n):G;try{for(U=0;U<I.length;U++){const n=I[U];if(n&&n.active!==!1){if(process.env.NODE_ENV!=="production"&&t(n))continue;X(n,null,14)}}}finally{U=0,I.length=0,yo(e),Ie=!1,rt=null,(I.length||oe.length)&&Wt(e)}}function qt(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>Oo){const s=t.ownerInstance,o=s&&an(s.type);return ot(`Maximum recursive updates exceeded${o?` in component <${o}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}else e.set(t,n+1)}}const de=new Set;process.env.NODE_ENV!=="production"&&(St().__VUE_HMR_RUNTIME__={createRecord:it(vo),rerender:it(Co),reload:it(Ro)});const Pe=new Map;function vo(e,t){return Pe.has(e)?!1:(Pe.set(e,{initialDef:pe(t),instances:new Set}),!0)}function pe(e){return fn(e)?e.__vccOpts:e}function Co(e,t){const n=Pe.get(e);!n||(n.initialDef.render=t,[...n.instances].forEach(s=>{t&&(s.render=t,pe(s.type).render=t),s.renderCache=[],s.effect.dirty=!0,s.update()}))}function Ro(e,t){const n=Pe.get(e);if(!n)return;t=pe(t),Gt(n.initialDef,t);const s=[...n.instances];for(const o of s){const r=pe(o.type);de.has(r)||(r!==n.initialDef&&Gt(r,t),de.add(r)),o.appContext.propsCache.delete(o.type),o.appContext.emitsCache.delete(o.type),o.appContext.optionsCache.delete(o.type),o.ceReload?(de.add(r),o.ceReload(t.styles),de.delete(r)):o.parent?(o.parent.effect.dirty=!0,lt(o.parent.update)):o.appContext.reload?o.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}Ut(()=>{for(const o of s)de.delete(pe(o.type))})}function Gt(e,t){$(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function it(e){return(t,n)=>{try{return e(t,n)}catch(s){console.error(s),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let se,De=[];function Jt(e,t){var n,s;se=e,se?(se.enabled=!0,De.forEach(({event:o,args:r})=>se.emit(o,...r)),De=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{Jt(r,t)}),setTimeout(()=>{se||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,De=[])},3e3)):De=[]}let A=null,xo=null;function Ls(){}const Mo=Symbol.for("v-ndc"),To=e=>e.__isSuspense;function ko(e,t){t&&t.pendingBranch?_(e)?t.effects.push(...e):t.effects.push(e):Ut(e)}const Io=Symbol.for("v-scx"),Po=()=>{{const e=qo(Io);return e||process.env.NODE_ENV!=="production"&&m("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}},$e={};function Do(e,t,{immediate:n,deep:s,flush:o,once:r,onTrack:i,onTrigger:c}=F){if(t&&r){const d=t;t=(...ge)=>{d(...ge),me()}}process.env.NODE_ENV!=="production"&&s!==void 0&&typeof s=="number"&&m('watch() "deep" option with number value will be used as watch depth in future versions. Please use a boolean instead to avoid potential breakage.'),process.env.NODE_ENV!=="production"&&!t&&(n!==void 0&&m('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&m('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&m('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const a=d=>{m("Invalid watch source: ",d,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},f=q,g=d=>s===!0?d:re(d,s===!1?1:void 0);let h,v=!1,P=!1;if(k(e)?(h=()=>e.value,v=Xe(e)):ne(e)?(h=()=>g(e),v=!0):_(e)?(P=!0,v=e.some(d=>ne(d)||Xe(d)),h=()=>e.map(d=>{if(k(d))return d.value;if(ne(d))return g(d);if(y(d))return X(d,f,2);process.env.NODE_ENV!=="production"&&a(d)})):y(e)?t?h=()=>X(e,f,2):h=()=>(w&&w(),ue(e,f,3,[Z])):(h=G,process.env.NODE_ENV!=="production"&&a(e)),t&&s){const d=h;h=()=>re(d())}let w,Z=d=>{w=N.onStop=()=>{X(d,f,4),w=N.onStop=void 0}},L;if(pt)if(Z=G,t?n&&ue(t,f,3,[h(),P?[]:void 0,Z]):h(),o==="sync"){const d=Po();L=d.__watcherHandles||(d.__watcherHandles=[])}else return G;let C=P?new Array(e.length).fill($e):$e;const D=()=>{if(!(!N.active||!N.dirty))if(t){const d=N.run();(s||v||(P?d.some((ge,ht)=>te(ge,C[ht])):te(d,C)))&&(w&&w(),ue(t,f,3,[d,C===$e?void 0:P&&C[0]===$e?[]:C,Z]),C=d)}else N.run()};D.allowRecurse=!!t;let j;o==="sync"?j=D:o==="post"?j=()=>tn(D,f&&f.suspense):(D.pre=!0,f&&(D.id=f.uid),j=()=>lt(D));const N=new jn(h,G,j),me=()=>{N.stop()};return process.env.NODE_ENV!=="production"&&(N.onTrack=i,N.onTrigger=c),t?n?D():C=N.run():o==="post"?tn(N.run.bind(N),f&&f.suspense):N.run(),L&&L.push(me),me}function $o(e,t,n){const s=this.proxy,o=M(e)?e.includes(".")?Bo(s,e):()=>s[e]:e.bind(s,s);let r;y(t)?r=t:(r=t.handler,n=t);const i=q;dt(this);const c=Do(o,r.bind(s),n);return i?dt(i):cn(),c}function Bo(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function re(e,t,n=0,s){if(!T(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),k(e))re(e.value,t,n,s);else if(_(e))for(let o=0;o<e.length;o++)re(e[o],t,n,s);else if(Rn(e)||ee(e))e.forEach(o=>{re(o,t,n,s)});else if(Tn(e))for(const o in e)re(e[o],t,n,s);return e}function Ao(e,t,n=q,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;ye(),dt(n);const c=ue(t,n,e,i);return cn(),Ve(),c});return s?o.unshift(r):o.push(r),r}else if(process.env.NODE_ENV!=="production"){const o=kn(nt[e].replace(/ hook$/,""));m(`${o} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Lo=(e=>(t,n=q)=>(!pt||e==="sp")&&Ao(e,(...s)=>t(...s),n))("bum"),ct=e=>e?ss(e)?rs(e)||e.proxy:ct(e.parent):null,he=$(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>process.env.NODE_ENV!=="production"?ke(e.props):e.props,$attrs:e=>process.env.NODE_ENV!=="production"?ke(e.attrs):e.attrs,$slots:e=>process.env.NODE_ENV!=="production"?ke(e.slots):e.slots,$refs:e=>process.env.NODE_ENV!=="production"?ke(e.refs):e.refs,$parent:e=>ct(e.parent),$root:e=>ct(e.root),$emit:e=>e.emit,$options:e=>Fo(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,lt(e.update)}),$nextTick:e=>e.n||(e.n=So.bind(e.proxy)),$watch:e=>$o.bind(e)}),jo=e=>e==="_"||e==="$",at=(e,t)=>e!==F&&!e.__isScriptSetup&&E(e,t),Ho={get({_:e},t){const{ctx:n,setupState:s,data:o,props:r,accessCache:i,type:c,appContext:a}=e;if(process.env.NODE_ENV!=="production"&&t==="__isVue")return!0;let f;if(t[0]!=="$"){const P=i[t];if(P!==void 0)switch(P){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(at(s,t))return i[t]=1,s[t];if(o!==F&&E(o,t))return i[t]=2,o[t];if((f=e.propsOptions[0])&&E(f,t))return i[t]=3,r[t];if(n!==F&&E(n,t))return i[t]=4,n[t];i[t]=0}}const g=he[t];let h,v;if(g)return t==="$attrs"?(R(e,"get",t),process.env.NODE_ENV!=="production"&&void 0):process.env.NODE_ENV!=="production"&&t==="$slots"&&R(e,"get",t),g(e);if((h=c.__cssModules)&&(h=h[t]))return h;if(n!==F&&E(n,t))return i[t]=4,n[t];if(v=a.config.globalProperties,E(v,t))return v[t];process.env.NODE_ENV!=="production"&&A&&(!M(t)||t.indexOf("__v")!==0)&&(o!==F&&jo(t[0])&&E(o,t)?m(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===A&&m(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return at(o,t)?(o[t]=n,!0):process.env.NODE_ENV!=="production"&&o.__isScriptSetup&&E(o,t)?(m(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):s!==F&&E(s,t)?(s[t]=n,!0):E(e.props,t)?(process.env.NODE_ENV!=="production"&&m(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(process.env.NODE_ENV!=="production"&&m(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(process.env.NODE_ENV!=="production"&&t in e.appContext.config.globalProperties?Object.defineProperty(r,t,{enumerable:!0,configurable:!0,value:n}):r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r}},i){let c;return!!n[i]||e!==F&&E(e,i)||at(t,i)||(c=r[0])&&E(c,i)||E(s,i)||E(he,i)||E(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:E(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};process.env.NODE_ENV!=="production"&&(Ho.ownKeys=e=>(m("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e)));function Yt(e){return _(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Fo(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,c=r.get(t);let a;return c?a=c:!o.length&&!n&&!s?a=t:(a={},o.length&&o.forEach(f=>Be(a,f,i,!0)),Be(a,t,i)),T(t)&&r.set(t,a),a}function Be(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&Be(e,r,n,!0),o&&o.forEach(i=>Be(e,i,n,!0));for(const i in t)if(s&&i==="expose")process.env.NODE_ENV!=="production"&&m('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const c=Ko[i]||n&&n[i];e[i]=c?c(e[i],t[i]):t[i]}return e}const Ko={data:Qt,props:Zt,emits:Zt,methods:_e,computed:_e,beforeCreate:V,created:V,beforeMount:V,mounted:V,beforeUpdate:V,updated:V,beforeDestroy:V,beforeUnmount:V,destroyed:V,unmounted:V,activated:V,deactivated:V,errorCaptured:V,serverPrefetch:V,components:_e,directives:_e,watch:Uo,provide:Qt,inject:zo};function Qt(e,t){return t?e?function(){return $(y(e)?e.call(this,this):e,y(t)?t.call(this,this):t)}:t:e}function zo(e,t){return _e(Xt(e),Xt(t))}function Xt(e){if(_(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function V(e,t){return e?[...new Set([].concat(e,t))]:t}function _e(e,t){return e?$(Object.create(null),e,t):t}function Zt(e,t){return e?_(e)&&_(t)?[...new Set([...e,...t])]:$(Object.create(null),Yt(e),Yt(t!=null?t:{})):t}function Uo(e,t){if(!e)return t;if(!t)return e;const n=$(Object.create(null),e);for(const s in t)n[s]=V(e[s],t[s]);return n}function Wo(){return{app:null,config:{isNativeTag:Vn,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let en=null;function qo(e,t,n=!1){const s=q||A;if(s||en){const o=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:en._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&y(t)?t.call(s&&s.proxy):t;process.env.NODE_ENV!=="production"&&m(`injection "${String(e)}" not found.`)}else process.env.NODE_ENV!=="production"&&m("inject() can only be used inside setup() or functional components.")}const tn=ko,Go=e=>e.__isTeleport,nn=Symbol.for("v-fgt"),Jo=Symbol.for("v-txt"),Yo=Symbol.for("v-cmt");let le=null;function Qo(e){return e?e.__v_isVNode===!0:!1}const Xo=(...e)=>rn(...e),on="__vInternal",sn=({key:e})=>e!=null?e:null,Ae=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?M(e)||k(e)||y(e)?{i:A,r:e,k:t,f:!!n}:e:null);function Zo(e,t=null,n=null,s=0,o=null,r=e===nn?0:1,i=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&sn(t),ref:t&&Ae(t),scopeId:xo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:A};return c?(ut(a,n),r&128&&e.normalize(a)):n&&(a.shapeFlag|=M(n)?8:16),process.env.NODE_ENV!=="production"&&a.key!==a.key&&m("VNode created with invalid key (NaN). VNode type:",a.type),!i&&le&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&le.push(a),a}const es=process.env.NODE_ENV!=="production"?Xo:rn;function rn(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===Mo)&&(process.env.NODE_ENV!=="production"&&!e&&m(`Invalid vnode type when creating vnode: ${e}.`),e=Yo),Qo(e)){const c=Le(e,t,!0);return n&&ut(c,n),!r&&le&&(c.shapeFlag&6?le[le.indexOf(e)]=c:le.push(c)),c.patchFlag|=-2,c}if(fn(e)&&(e=e.__vccOpts),t){t=ts(t);let{class:c,style:a}=t;c&&!M(c)&&(t.class=Fe(c)),T(a)&&(Ze(a)&&!_(a)&&(a=$({},a)),t.style=He(a))}const i=M(e)?1:To(e)?128:Go(e)?64:T(e)?4:y(e)?2:0;return process.env.NODE_ENV!=="production"&&i&4&&Ze(e)&&(e=p(e),m("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),Zo(e,t,n,s,o,i,r,!0)}function ts(e){return e?Ze(e)||on in e?$({},e):e:null}function Le(e,t,n=!1){const{props:s,ref:o,patchFlag:r,children:i}=e,c=t?os(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&sn(c),ref:t&&t.ref?n&&o?_(o)?o.concat(Ae(t)):[o,Ae(t)]:Ae(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:process.env.NODE_ENV!=="production"&&r===-1&&_(i)?i.map(ln):i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==nn?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Le(e.ssContent),ssFallback:e.ssFallback&&Le(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ln(e){const t=Le(e);return _(e.children)&&(t.children=e.children.map(ln)),t}function ns(e=" ",t=0){return es(Jo,null,e,t)}function ut(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(_(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),ut(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(on in t)?t._ctx=A:o===3&&A&&(A.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else y(t)?(t={default:t,_ctx:A},n=32):(t=String(t),s&64?(n=16,t=[ns(t)]):n=8);e.children=t,e.shapeFlag|=n}function os(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=Fe([t.class,s.class]));else if(o==="style")t.style=He([t.style,s.style]);else if(vn(o)){const r=t[o],i=s[o];i&&r!==i&&!(_(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=s[o])}return t}Wo();let q=null,ft;{const e=St(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};ft=t("__VUE_INSTANCE_SETTERS__",n=>q=n),t("__VUE_SSR_SETTERS__",n=>pt=n)}const dt=e=>{ft(e),e.scope.on()},cn=()=>{q&&q.scope.off(),ft(null)};function ss(e){return e.vnode.shapeFlag&4}let pt=!1;function rs(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(po(ao(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in he)return he[n](e)},has(t,n){return n in t||n in he}}))}const ls=/(?:^|[-_])(\w)/g,is=e=>e.replace(ls,t=>t.toUpperCase()).replace(/[-_]/g,"");function an(e,t=!0){return y(e)?e.displayName||e.name:e.name||t&&e.__name}function un(e,t,n=!1){let s=an(t);if(!s&&t.__file){const o=t.__file.match(/([^/\\]+)\.\w+$/);o&&(s=o[1])}if(!s&&e&&e.parent){const o=r=>{for(const i in r)if(r[i]===t)return i};s=o(e.components||e.parent.type.components)||o(e.appContext.components)}return s?is(s):n?"App":"Anonymous"}function fn(e){return y(e)&&"__vccOpts"in e}process.env.NODE_ENV,process.env.NODE_ENV,process.env.NODE_ENV;const cs=["id","multiple"],as={key:1,class:"lkt-field__select"},us=["innerHTML","title"],fs={key:2,class:"lkt-field__select-dropdown"},ds={class:"lkt-field__select-search-container"},ps={key:1,class:"lkt-field__select-options"},hs=["onClick"],_s={key:0,class:"lkt-field__select-option"},ms={key:2,class:"lkt-field-select__read"},gs=["innerHTML","title"],Es={key:3,class:"lkt-field__state"},ws=["title"],Ns={key:3,class:"lkt-field-select__read-multiple"},Os=["innerHTML","title"],Ss={key:0,class:"lkt-field__state"},bs=["title"],ys=["innerHTML"],Vs={name:"LktFieldSelect",inheritAttrs:!1},vs=l.defineComponent({...Vs,props:{modelValue:{type:[String,Number,Array],default:""},placeholder:{type:String,default:""},label:{type:String,default:""},palette:{type:String,default:""},name:{type:String,default:H.generateRandomString(16)},valid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},readMode:{type:Boolean,default:!1},allowReadModeSwitch:{type:Boolean,default:!1},switchEditionMessage:{type:String,default:""},emptyLabel:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},disabledOptions:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!1},canTag:{type:Boolean,default:!1},noOptionsMessage:{type:String,default:Nn()},resource:{type:String,default:""},resourceData:{type:[Object],default:()=>({})},searchStringResourceParam:{type:String,default:"query"},searchPlaceholder:{type:String,default:""},useResourceSlot:{type:String,default:""}},emits:["update:modelValue","click-ui"],setup(e,{expose:t,emit:n}){const s=n,o=e,r=l.useSlots(),i=l.ref(null),c=l.ref(null),a=l.ref(null),f=l.ref(!o.readMode),g=H.generateRandomString(16),h=l.ref(new gt(o.options)),v=l.ref(!1),P=l.ref(o.modelValue),w=l.ref(o.modelValue),Z=l.ref(!1),L=l.ref(!1),C=l.ref(!1),D=l.ref(h.value.all()),j=l.ref(h.value.all()),N=l.ref("");o.closeOnSelect===null?v.value=o.multiple===!0:v.value=o.closeOnSelect;const me=l.computed(()=>o.resource!==""),d=l.computed(()=>typeof o.valid=="function"?o.valid():o.valid),ge=l.computed(()=>w.value!==P.value),ht=l.computed(()=>{const u=["lkt-field","lkt-field-select"];return o.palette&&u.push(`lkt-field--${o.palette}`),ge.value&&u.push("is-changed"),o.multiple&&u.push("is-multiple"),o.disabled&&u.push("is-disabled"),C.value&&u.push("has-focus"),u.push(d.value?"is-valid":"is-error"),u.push(o.modelValue?"is-filled":"is-empty"),u.join(" ")}),dn=l.computed(()=>{let u={};return j.value.forEach(O=>{O.value==w.value&&(u=O)}),u}),_t=l.computed(()=>{let u="";return j.value.forEach(O=>{O.value==w.value&&(u=O.label)}),u}),pn=l.computed(()=>{let u=[];return o.multiple&&j.value.forEach(O=>{w.value.forEach(Ne=>{Ne==O.value&&u.push(O)})}),u}),Ee=()=>{j.value=h.value.all(),D.value=h.value.filter(N.value),L.value=!1},hn=()=>{N.value="",Ee()},_n=async()=>{if(L.value=!1,me.value){L.value=!0;const u=JSON.parse(JSON.stringify(o.resourceData));o.searchStringResourceParam&&(u[o.searchStringResourceParam]=N.value);const O=await wn.httpCall(o.resource,u);h.value.receiveOptions(O.data),Ee()}else Ee()},Rs=()=>{w.value=P.value},xs=()=>o.modelValue,we=u=>{hn(),mt(u),C.value=!C.value,C.value&&l.nextTick(()=>{_n(),i.value.focus(),l.nextTick(()=>{i.value.focus()})})};l.watch(()=>o.readMode,u=>f.value=!u),l.watch(()=>o.modelValue,u=>{w.value=u}),l.watch(w,u=>{s("update:modelValue",u),Z.value=!0,l.nextTick(()=>Z.value=!1)}),l.watch(N,Ee),l.watch(()=>o.options,u=>{h.value=new gt(u)});const mn=u=>{if(o.multiple){let O=w.value.findIndex(Ne=>Ne==u.value);return typeof O>"u"&&(O=-1),O}return-1},Ms=u=>{if(o.multiple){let O=mn(u);O===-1?w.value.push(u.value):w.value.splice(O,1)}else w.value=u.value,C.value=!1},Ts=u=>o.multiple?mn(u)!==-1:u.value==w.value,mt=u=>{if(!a.value.contains(u.target)){hn(),C.value=!1;return}},gn=u=>{f.value=!f.value,f.value&&focus()};window.addEventListener("click",mt),Ee(),Lo(()=>{window.removeEventListener("click",mt)}),t({reset:Rs,value:xs});const ie=l.computed(()=>o.useResourceSlot?o.useResourceSlot:o.resource),En=l.computed(()=>x.NO_OPTIONS_MESSAGE),ks=l.computed(()=>ie.value!==""&&typeof x.customResourceOptionSlots[ie.value]<"u"),Is=l.computed(()=>x.customResourceOptionSlots[ie.value]),Ps=l.computed(()=>ie.value!==""&&typeof x.customResourceValueSlots[ie.value]<"u"),Ds=l.computed(()=>x.customResourceValueSlots[ie.value]);return(u,O)=>{const Ne=l.resolveComponent("lkt-field-text"),$s=l.resolveComponent("lkt-loader");return l.openBlock(),l.createElementBlock("div",{class:l.normalizeClass(ht.value),"data-show-ui":!1,ref:S=>a.value=S},[l.renderSlot(u.$slots,"prefix"),f.value?(l.openBlock(),l.createElementBlock("select",{key:0,ref:S=>c.value=S,id:l.unref(g),onFocus:l.withModifiers(we,["stop","prevent"]),onBlur:l.withModifiers(we,["stop","prevent"]),multiple:e.multiple,style:{height:"0",opacity:"0",width:"0"}},null,40,cs)):l.createCommentVNode("",!0),f.value?(l.openBlock(),l.createElementBlock("div",as,[e.multiple?(l.openBlock(),l.createElementBlock("div",{key:1,class:"lkt-field__select-value-multiple",onClick:we},[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(pn.value,S=>(l.openBlock(),l.createElementBlock("div",{class:"lkt-field-select-value-datum",innerHTML:S.label,title:S.label},null,8,us))),256))])):(l.openBlock(),l.createElementBlock("div",{key:0,class:"lkt-field__select-value",onClick:we},l.toDisplayString(_t.value),1)),C.value?(l.openBlock(),l.createElementBlock("div",fs,[l.createElementVNode("div",ds,[l.createVNode(Ne,{ref:S=>i.value=S,modelValue:N.value,"onUpdate:modelValue":O[0]||(O[0]=S=>N.value=S),placeholder:e.searchPlaceholder,tabindex:-1,class:"lkt-field__select-search",onKeyup:_n},null,8,["modelValue","placeholder"])]),L.value?(l.openBlock(),l.createBlock($s,{key:0})):l.createCommentVNode("",!0),!e.readonly&&!L.value?(l.openBlock(),l.createElementBlock("ul",ps,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(D.value,S=>(l.openBlock(),l.createElementBlock("li",{class:l.normalizeClass(["lkt-field__select-option",{"is-active":e.multiple?Ts(S):S.value==w.value}]),onClick:l.withModifiers(Hs=>Ms(S),["prevent","stop"])},[l.unref(r).option?l.renderSlot(u.$slots,"option",{key:0,option:S}):l.createCommentVNode("",!0),ks.value?(l.openBlock(),l.createBlock(l.resolveDynamicComponent(Is.value),{key:1,option:S},null,8,["option"])):(l.openBlock(),l.createElementBlock(l.Fragment,{key:2},[l.createTextVNode(l.toDisplayString(S.label),1)],64))],10,hs))),256)),D.value.length===0&&(l.unref(r)["no-results"]||En.value)?(l.openBlock(),l.createElementBlock("li",_s,[l.unref(r)["no-results"]?l.renderSlot(u.$slots,"no-results",{key:0}):(l.openBlock(),l.createElementBlock(l.Fragment,{key:1},[l.createTextVNode(l.toDisplayString(En.value),1)],64))])):l.createCommentVNode("",!0)])):l.createCommentVNode("",!0)])):l.createCommentVNode("",!0)])):l.createCommentVNode("",!0),!f.value&&!e.multiple?(l.openBlock(),l.createElementBlock("div",ms,[l.unref(r).value?l.renderSlot(u.$slots,"value",{key:0,option:dn.value}):l.createCommentVNode("",!0),Ps.value?(l.openBlock(),l.createBlock(l.resolveDynamicComponent(Ds.value),{key:1,option:dn.value},null,8,["option"])):(l.openBlock(),l.createElementBlock("div",{key:2,class:"lkt-field-select__read-value",innerHTML:_t.value,title:_t.value},null,8,gs)),e.allowReadModeSwitch?(l.openBlock(),l.createElementBlock("div",Es,[l.createElementVNode("i",{class:"lkt-field__edit-icon",title:o.switchEditionMessage,onClick:gn},null,8,ws)])):l.createCommentVNode("",!0)])):l.createCommentVNode("",!0),!f.value&&e.multiple?(l.openBlock(),l.createElementBlock("div",Ns,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(pn.value,S=>(l.openBlock(),l.createElementBlock("div",{class:"lkt-field-select__read-value",innerHTML:S.label,title:S.label},null,8,Os))),256)),e.allowReadModeSwitch?(l.openBlock(),l.createElementBlock("div",Ss,[l.createElementVNode("i",{class:"lkt-field__edit-icon",title:o.switchEditionMessage,onClick:gn},null,8,bs)])):l.createCommentVNode("",!0)])):l.createCommentVNode("",!0),l.createElementVNode("label",{innerHTML:e.label,onClick:l.withModifiers(we,["stop","prevent"])},null,8,ys)],2)}}}),Cs={install:e=>{e.component("lkt-field-select",vs)}};b.default=Cs,b.setNoOptionsMessage=On,b.setResourceOptionSlot=Sn,b.setResourceValueSlot=bn,Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
