(function(N,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("vue"),require("lkt-string-tools"),require("lkt-http-client")):typeof define=="function"&&define.amd?define(["exports","vue","lkt-string-tools","lkt-http-client"],l):(N=typeof globalThis<"u"?globalThis:N||self,l(N.LktFieldSelect={},N.Vue,N.LktStringTools,N.LktHttpClient))})(this,function(N,l,j,fn){"use strict";var uo=Object.defineProperty;var fo=(N,l,j)=>l in N?uo(N,l,{enumerable:!0,configurable:!0,writable:!0,value:j}):N[l]=j;var Ie=(N,l,j)=>(fo(N,typeof l!="symbol"?l+"":l,j),j);class Me{}Ie(Me,"NO_OPTIONS_MESSAGE","");const pn=()=>Me.NO_OPTIONS_MESSAGE,dn=e=>(Me.NO_OPTIONS_MESSAGE=e,!0);class ut{constructor(t){Ie(this,"value");if(typeof t!="function"&&typeof t!="object")throw new Error("searchOptions must be an object or a function returning an object");if(typeof t=="function"&&typeof t()!="object")throw new Error("searchOptions function must return an object");t||(t={}),this.value=t}getOptions(){return typeof this.value=="function"?this.value():this.value}}class ft{constructor(t=[]){Ie(this,"value");this.value=[...t]}all(){return this.value}filter(t){if(t==="")return this.all();const n=t.toLowerCase();return this.value.filter(s=>s.label.toLowerCase().indexOf(n)!==-1)}receiveOptions(t){const n=new Set,s=[...this.value,...t],o=[];s.forEach(r=>{let i=[r.value,r.label].join("-");n.has(i)||(o.push(r),n.add(i))}),this.value=o}}function hn(e,t){const n=Object.create(null),s=e.split(",");for(let o=0;o<s.length;o++)n[s[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const A=process.env.NODE_ENV!=="production"?Object.freeze({}):{};process.env.NODE_ENV!=="production"&&Object.freeze([]);const pt=()=>{},_n=()=>!1,mn=/^on[^a-z]/,gn=e=>mn.test(e),P=Object.assign,wn=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},En=Object.prototype.hasOwnProperty,m=(e,t)=>En.call(e,t),h=Array.isArray,Q=e=>he(e)==="[object Map]",Nn=e=>he(e)==="[object Set]",O=e=>typeof e=="function",R=e=>typeof e=="string",de=e=>typeof e=="symbol",I=e=>e!==null&&typeof e=="object",bn=e=>(I(e)||O(e))&&O(e.then)&&O(e.catch),On=Object.prototype.toString,he=e=>On.call(e),dt=e=>he(e).slice(8,-1),Sn=e=>he(e)==="[object Object]",Pe=e=>R(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ht=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},_t=ht(e=>e.charAt(0).toUpperCase()+e.slice(1)),Vn=ht(e=>e?`on${_t(e)}`:""),X=(e,t)=>!Object.is(e,t),vn=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};let mt;const De=()=>mt||(mt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $e(e){if(h(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=R(s)?Tn(s):$e(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(R(e)||I(e))return e}const xn=/;(?![^(]*\))/g,yn=/:([^]+)/,Cn=/\/\*[^]*?\*\//g;function Tn(e){const t={};return e.replace(Cn,"").split(xn).forEach(n=>{if(n){const s=n.split(yn);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function je(e){let t="";if(R(e))t=e;else if(h(e))for(let n=0;n<e.length;n++){const s=je(e[n]);s&&(t+=s+" ")}else if(I(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function gt(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let wt;function Rn(e,t=wt){t&&t.active&&t.effects.push(e)}function In(){return wt}const Ae=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Et=e=>(e.w&F)>0,Nt=e=>(e.n&F)>0,Mn=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=F},Pn=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const o=t[s];Et(o)&&!Nt(o)?o.delete(e):t[n++]=o,o.w&=~F,o.n&=~F}t.length=n}},Fe=new WeakMap;let oe=0,F=1;const He=30;let x;const U=Symbol(process.env.NODE_ENV!=="production"?"iterate":""),Be=Symbol(process.env.NODE_ENV!=="production"?"Map key iterate":"");class Dn{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Rn(this,s)}run(){if(!this.active)return this.fn();let t=x,n=W;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=x,x=this,W=!0,F=1<<++oe,oe<=He?Mn(this):bt(this),this.fn()}finally{oe<=He&&Pn(this),F=1<<--oe,x=this.parent,W=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){x===this?this.deferStop=!0:this.active&&(bt(this),this.onStop&&this.onStop(),this.active=!1)}}function bt(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let W=!0;const Ot=[];function ze(){Ot.push(W),W=!1}function Ke(){const e=Ot.pop();W=e===void 0?!0:e}function y(e,t,n){if(W&&x){let s=Fe.get(e);s||Fe.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=Ae());const r=process.env.NODE_ENV!=="production"?{effect:x,target:e,type:t,key:n}:void 0;$n(o,r)}}function $n(e,t){let n=!1;oe<=He?Nt(e)||(e.n|=F,n=!Et(e)):n=!e.has(x),n&&(e.add(x),x.deps.push(e),process.env.NODE_ENV!=="production"&&x.onTrack&&x.onTrack(P({effect:x},t)))}function H(e,t,n,s,o,r){const i=Fe.get(e);if(!i)return;let c=[];if(t==="clear")c=[...i.values()];else if(n==="length"&&h(e)){const u=Number(s);i.forEach((f,g)=>{(g==="length"||!de(g)&&g>=u)&&c.push(f)})}else switch(n!==void 0&&c.push(i.get(n)),t){case"add":h(e)?Pe(n)&&c.push(i.get("length")):(c.push(i.get(U)),Q(e)&&c.push(i.get(Be)));break;case"delete":h(e)||(c.push(i.get(U)),Q(e)&&c.push(i.get(Be)));break;case"set":Q(e)&&c.push(i.get(U));break}const a=process.env.NODE_ENV!=="production"?{target:e,type:t,key:n,newValue:s,oldValue:o,oldTarget:r}:void 0;if(c.length===1)c[0]&&(process.env.NODE_ENV!=="production"?_e(c[0],a):_e(c[0]));else{const u=[];for(const f of c)f&&u.push(...f);process.env.NODE_ENV!=="production"?_e(Ae(u),a):_e(Ae(u))}}function _e(e,t){const n=h(e)?e:[...e];for(const s of n)s.computed&&St(s,t);for(const s of n)s.computed||St(s,t)}function St(e,t){(e!==x||e.allowRecurse)&&(process.env.NODE_ENV!=="production"&&e.onTrigger&&e.onTrigger(P({effect:e},t)),e.scheduler?e.scheduler():e.run())}const jn=hn("__proto__,__v_isRef,__isVue"),Vt=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(de)),vt=An();function An(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=p(this);for(let r=0,i=this.length;r<i;r++)y(s,"get",r+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(p)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ze();const s=p(this)[t].apply(this,n);return Ke(),s}}),e}function Fn(e){const t=p(this);return y(t,"has",e),t.hasOwnProperty(e)}class xt{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,s){const o=this._isReadonly,r=this._shallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw"&&s===(o?r?$t:Dt:r?Qn:Pt).get(t))return t;const i=h(t);if(!o){if(i&&m(vt,n))return Reflect.get(vt,n,s);if(n==="hasOwnProperty")return Fn}const c=Reflect.get(t,n,s);return(de(n)?Vt.has(n):jn(n))||(o||y(t,"get",n),r)?c:C(c)?i&&Pe(n)?c:c.value:I(c)?o?At(c):jt(c):c}}class Hn extends xt{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(re(r)&&C(r)&&!C(s))return!1;if(!this._shallow&&(!We(s)&&!re(s)&&(r=p(r),s=p(s)),!h(t)&&C(r)&&!C(s)))return r.value=s,!0;const i=h(t)&&Pe(n)?Number(n)<t.length:m(t,n),c=Reflect.set(t,n,s,o);return t===p(o)&&(i?X(s,r)&&H(t,"set",n,s,r):H(t,"add",n,s)),c}deleteProperty(t,n){const s=m(t,n),o=t[n],r=Reflect.deleteProperty(t,n);return r&&s&&H(t,"delete",n,void 0,o),r}has(t,n){const s=Reflect.has(t,n);return(!de(n)||!Vt.has(n))&&y(t,"has",n),s}ownKeys(t){return y(t,"iterate",h(t)?"length":U),Reflect.ownKeys(t)}}class yt extends xt{constructor(t=!1){super(!0,t)}set(t,n){return process.env.NODE_ENV!=="production"&&gt(`Set operation on key "${String(n)}" failed: target is readonly.`,t),!0}deleteProperty(t,n){return process.env.NODE_ENV!=="production"&&gt(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),!0}}const Bn=new Hn,zn=new yt,Kn=new yt(!0),ke=e=>e,me=e=>Reflect.getPrototypeOf(e);function ge(e,t,n=!1,s=!1){e=e.__v_raw;const o=p(e),r=p(t);n||(X(t,r)&&y(o,"get",t),y(o,"get",r));const{has:i}=me(o),c=s?ke:n?Je:Ge;if(i.call(o,t))return c(e.get(t));if(i.call(o,r))return c(e.get(r));e!==o&&e.get(t)}function we(e,t=!1){const n=this.__v_raw,s=p(n),o=p(e);return t||(X(e,o)&&y(s,"has",e),y(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Ee(e,t=!1){return e=e.__v_raw,!t&&y(p(e),"iterate",U),Reflect.get(e,"size",e)}function Ct(e){e=p(e);const t=p(this);return me(t).has.call(t,e)||(t.add(e),H(t,"add",e,e)),this}function Tt(e,t){t=p(t);const n=p(this),{has:s,get:o}=me(n);let r=s.call(n,e);r?process.env.NODE_ENV!=="production"&&Mt(n,s,e):(e=p(e),r=s.call(n,e));const i=o.call(n,e);return n.set(e,t),r?X(t,i)&&H(n,"set",e,t,i):H(n,"add",e,t),this}function Rt(e){const t=p(this),{has:n,get:s}=me(t);let o=n.call(t,e);o?process.env.NODE_ENV!=="production"&&Mt(t,n,e):(e=p(e),o=n.call(t,e));const r=s?s.call(t,e):void 0,i=t.delete(e);return o&&H(t,"delete",e,void 0,r),i}function It(){const e=p(this),t=e.size!==0,n=process.env.NODE_ENV!=="production"?Q(e)?new Map(e):new Set(e):void 0,s=e.clear();return t&&H(e,"clear",void 0,void 0,n),s}function Ne(e,t){return function(s,o){const r=this,i=r.__v_raw,c=p(i),a=t?ke:e?Je:Ge;return!e&&y(c,"iterate",U),i.forEach((u,f)=>s.call(o,a(u),a(f),r))}}function be(e,t,n){return function(...s){const o=this.__v_raw,r=p(o),i=Q(r),c=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,u=o[e](...s),f=n?ke:t?Je:Ge;return!t&&y(r,"iterate",a?Be:U),{next(){const{value:g,done:V}=u.next();return V?{value:g,done:V}:{value:c?[f(g[0]),f(g[1])]:f(g),done:V}},[Symbol.iterator](){return this}}}}function B(e){return function(...t){if(process.env.NODE_ENV!=="production"){const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${_t(e)} operation ${n}failed: target is readonly.`,p(this))}return e==="delete"?!1:e==="clear"?void 0:this}}function kn(){const e={get(r){return ge(this,r)},get size(){return Ee(this)},has:we,add:Ct,set:Tt,delete:Rt,clear:It,forEach:Ne(!1,!1)},t={get(r){return ge(this,r,!1,!0)},get size(){return Ee(this)},has:we,add:Ct,set:Tt,delete:Rt,clear:It,forEach:Ne(!1,!0)},n={get(r){return ge(this,r,!0)},get size(){return Ee(this,!0)},has(r){return we.call(this,r,!0)},add:B("add"),set:B("set"),delete:B("delete"),clear:B("clear"),forEach:Ne(!0,!1)},s={get(r){return ge(this,r,!0,!0)},get size(){return Ee(this,!0)},has(r){return we.call(this,r,!0)},add:B("add"),set:B("set"),delete:B("delete"),clear:B("clear"),forEach:Ne(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=be(r,!1,!1),n[r]=be(r,!0,!1),t[r]=be(r,!1,!0),s[r]=be(r,!0,!0)}),[e,n,t,s]}const[Ln,Un,Wn,qn]=kn();function Le(e,t){const n=t?e?qn:Wn:e?Un:Ln;return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(m(n,o)&&o in s?n:s,o,r)}const Gn={get:Le(!1,!1)},Jn={get:Le(!0,!1)},Yn={get:Le(!0,!0)};function Mt(e,t,n){const s=p(n);if(s!==n&&t.call(e,s)){const o=dt(e);console.warn(`Reactive ${o} contains both the raw and reactive versions of the same object${o==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Pt=new WeakMap,Qn=new WeakMap,Dt=new WeakMap,$t=new WeakMap;function Xn(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zn(e){return e.__v_skip||!Object.isExtensible(e)?0:Xn(dt(e))}function jt(e){return re(e)?e:Ue(e,!1,Bn,Gn,Pt)}function At(e){return Ue(e,!0,zn,Jn,Dt)}function Oe(e){return Ue(e,!0,Kn,Yn,$t)}function Ue(e,t,n,s,o){if(!I(e))return process.env.NODE_ENV!=="production"&&console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=o.get(e);if(r)return r;const i=Zn(e);if(i===0)return e;const c=new Proxy(e,i===2?s:n);return o.set(e,c),c}function Z(e){return re(e)?Z(e.__v_raw):!!(e&&e.__v_isReactive)}function re(e){return!!(e&&e.__v_isReadonly)}function We(e){return!!(e&&e.__v_isShallow)}function qe(e){return Z(e)||re(e)}function p(e){const t=e&&e.__v_raw;return t?p(t):e}function es(e){return vn(e,"__v_skip",!0),e}const Ge=e=>I(e)?jt(e):e,Je=e=>I(e)?At(e):e;function C(e){return!!(e&&e.__v_isRef===!0)}function ts(e){return C(e)?e.value:e}const ns={get:(e,t,n)=>ts(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return C(o)&&!C(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function ss(e){return Z(e)?e:new Proxy(e,ns)}const q=[];function os(e){q.push(e)}function rs(){q.pop()}function b(e,...t){if(process.env.NODE_ENV==="production")return;ze();const n=q.length?q[q.length-1].component:null,s=n&&n.appContext.config.warnHandler,o=is();if(s)G(s,n,11,[e+t.join(""),n&&n.proxy,o.map(({vnode:r})=>`at <${rn(n,r.type)}>`).join(`
`),o]);else{const r=[`[Vue warn]: ${e}`,...t];o.length&&r.push(`
`,...cs(o)),console.warn(...r)}Ke()}function is(){let e=q[q.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const s=e.component&&e.component.parent;e=s&&s.vnode}return t}function cs(e){const t=[];return e.forEach((n,s)=>{t.push(...s===0?[]:[`
`],...ls(n))}),t}function ls({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",s=e.component?e.component.parent==null:!1,o=` at <${rn(e.component,e.type,s)}`,r=">"+n;return e.props?[o,...as(e.props),r]:[o+r]}function as(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(s=>{t.push(...Ft(s,e[s]))}),n.length>3&&t.push(" ..."),t}function Ft(e,t,n){return R(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:C(t)?(t=Ft(e,p(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):O(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=p(t),n?t:[`${e}=`,t])}const Ye={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function G(e,t,n,s){let o;try{o=s?e(...s):e()}catch(r){Ht(r,t,n)}return o}function Se(e,t,n,s){if(O(e)){const r=G(e,t,n,s);return r&&bn(r)&&r.catch(i=>{Ht(i,t,n)}),r}const o=[];for(let r=0;r<e.length;r++)o.push(Se(e[r],t,n,s));return o}function Ht(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,c=process.env.NODE_ENV!=="production"?Ye[n]:n;for(;r;){const u=r.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,i,c)===!1)return}r=r.parent}const a=t.appContext.config.errorHandler;if(a){G(a,null,10,[e,i,c]);return}}us(e,n,o,s)}function us(e,t,n,s=!0){if(process.env.NODE_ENV!=="production"){const o=Ye[t];if(n&&os(n),b(`Unhandled error${o?` during execution of ${o}`:""}`),n&&rs(),s)throw e;console.error(e)}else console.error(e)}let Ve=!1,Qe=!1;const M=[];let z=0;const ee=[];let D=null,K=0;const Bt=Promise.resolve();let Xe=null;const fs=100;function ps(e){const t=Xe||Bt;return e?t.then(this?e.bind(this):e):t}function ds(e){let t=z+1,n=M.length;for(;t<n;){const s=t+n>>>1,o=M[s],r=ie(o);r<e||r===e&&o.pre?t=s+1:n=s}return t}function Ze(e){(!M.length||!M.includes(e,Ve&&e.allowRecurse?z+1:z))&&(e.id==null?M.push(e):M.splice(ds(e.id),0,e),zt())}function zt(){!Ve&&!Qe&&(Qe=!0,Xe=Bt.then(kt))}function Kt(e){h(e)?ee.push(...e):(!D||!D.includes(e,e.allowRecurse?K+1:K))&&ee.push(e),zt()}function hs(e){if(ee.length){const t=[...new Set(ee)];if(ee.length=0,D){D.push(...t);return}for(D=t,process.env.NODE_ENV!=="production"&&(e=e||new Map),D.sort((n,s)=>ie(n)-ie(s)),K=0;K<D.length;K++)process.env.NODE_ENV!=="production"&&Lt(e,D[K])||D[K]();D=null,K=0}}const ie=e=>e.id==null?1/0:e.id,_s=(e,t)=>{const n=ie(e)-ie(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function kt(e){Qe=!1,Ve=!0,process.env.NODE_ENV!=="production"&&(e=e||new Map),M.sort(_s);const t=process.env.NODE_ENV!=="production"?n=>Lt(e,n):pt;try{for(z=0;z<M.length;z++){const n=M[z];if(n&&n.active!==!1){if(process.env.NODE_ENV!=="production"&&t(n))continue;G(n,null,14)}}}finally{z=0,M.length=0,hs(e),Ve=!1,Xe=null,(M.length||ee.length)&&kt(e)}}function Lt(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>fs){const s=t.ownerInstance,o=s&&on(s.type);return b(`Maximum recursive updates exceeded${o?` in component <${o}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,n+1)}}const ce=new Set;process.env.NODE_ENV!=="production"&&(De().__VUE_HMR_RUNTIME__={createRecord:et(ms),rerender:et(gs),reload:et(ws)});const ve=new Map;function ms(e,t){return ve.has(e)?!1:(ve.set(e,{initialDef:le(t),instances:new Set}),!0)}function le(e){return cn(e)?e.__vccOpts:e}function gs(e,t){const n=ve.get(e);!n||(n.initialDef.render=t,[...n.instances].forEach(s=>{t&&(s.render=t,le(s.type).render=t),s.renderCache=[],s.update()}))}function ws(e,t){const n=ve.get(e);if(!n)return;t=le(t),Ut(n.initialDef,t);const s=[...n.instances];for(const o of s){const r=le(o.type);ce.has(r)||(r!==n.initialDef&&Ut(r,t),ce.add(r)),o.appContext.propsCache.delete(o.type),o.appContext.emitsCache.delete(o.type),o.appContext.optionsCache.delete(o.type),o.ceReload?(ce.add(r),o.ceReload(t.styles),ce.delete(r)):o.parent?Ze(o.parent.update):o.appContext.reload?o.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}Kt(()=>{for(const o of s)ce.delete(le(o.type))})}function Ut(e,t){P(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function et(e){return(t,n)=>{try{return e(t,n)}catch(s){console.error(s),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let k=null,Es=null;function po(){}const Ns=Symbol.for("v-ndc"),bs=e=>e.__isSuspense;function Os(e,t){t&&t.pendingBranch?h(e)?t.effects.push(...e):t.effects.push(e):Kt(e)}const xe={};function Ss(e,t,{immediate:n,deep:s,flush:o,onTrack:r,onTrigger:i}=A){var c;process.env.NODE_ENV!=="production"&&!t&&(n!==void 0&&b('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&b('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const a=_=>{b("Invalid watch source: ",_,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=In()===((c=L)==null?void 0:c.scope)?L:null;let f,g=!1,V=!1;if(C(e)?(f=()=>e.value,g=We(e)):Z(e)?(f=()=>e,s=!0):h(e)?(V=!0,g=e.some(_=>Z(_)||We(_)),f=()=>e.map(_=>{if(C(_))return _.value;if(Z(_))return te(_);if(O(_))return G(_,u,2);process.env.NODE_ENV!=="production"&&a(_)})):O(e)?t?f=()=>G(e,u,2):f=()=>{if(!(u&&u.isUnmounted))return E&&E(),Se(e,u,3,[fe])}:(f=pt,process.env.NODE_ENV!=="production"&&a(e)),t&&s){const _=f;f=()=>te(_())}let E,fe=_=>{E=w.onStop=()=>{G(_,u,4),E=w.onStop=void 0}},v=V?new Array(e.length).fill(xe):xe;const $=()=>{if(!!w.active)if(t){const _=w.run();(s||g||(V?_.some((it,ct)=>X(it,v[ct])):X(_,v)))&&(E&&E(),Se(t,u,3,[_,v===xe?void 0:V&&v[0]===xe?[]:v,fe]),v=_)}else w.run()};$.allowRecurse=!!t;let J;o==="sync"?J=$:o==="post"?J=()=>Yt($,u&&u.suspense):($.pre=!0,u&&($.id=u.uid),J=()=>Ze($));const w=new Dn(f,J);return process.env.NODE_ENV!=="production"&&(w.onTrack=r,w.onTrigger=i),t?n?$():v=w.run():o==="post"?Yt(w.run.bind(w),u&&u.suspense):w.run(),()=>{w.stop(),u&&u.scope&&wn(u.scope.effects,w)}}function Vs(e,t,n){const s=this.proxy,o=R(e)?e.includes(".")?vs(s,e):()=>s[e]:e.bind(s,s);let r;O(t)?r=t:(r=t.handler,n=t);const i=L;rt(this);const c=Ss(o,r.bind(s),n);return i?rt(i):sn(),c}function vs(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function te(e,t){if(!I(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),C(e))te(e.value,t);else if(h(e))for(let n=0;n<e.length;n++)te(e[n],t);else if(Nn(e)||Q(e))e.forEach(n=>{te(n,t)});else if(Sn(e))for(const n in e)te(e[n],t);return e}function xs(e,t,n=L,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;ze(),rt(n);const c=Se(t,n,e,i);return sn(),Ke(),c});return s?o.unshift(r):o.push(r),r}else if(process.env.NODE_ENV!=="production"){const o=Vn(Ye[e].replace(/ hook$/,""));b(`${o} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const ys=(e=>(t,n=L)=>xs(e,(...s)=>t(...s),n))("bum"),tt=e=>e?Us(e)?Ws(e)||e.proxy:tt(e.parent):null,ae=P(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>process.env.NODE_ENV!=="production"?Oe(e.props):e.props,$attrs:e=>process.env.NODE_ENV!=="production"?Oe(e.attrs):e.attrs,$slots:e=>process.env.NODE_ENV!=="production"?Oe(e.slots):e.slots,$refs:e=>process.env.NODE_ENV!=="production"?Oe(e.refs):e.refs,$parent:e=>tt(e.parent),$root:e=>tt(e.root),$emit:e=>e.emit,$options:e=>Rs(e),$forceUpdate:e=>e.f||(e.f=()=>Ze(e.update)),$nextTick:e=>e.n||(e.n=ps.bind(e.proxy)),$watch:e=>Vs.bind(e)}),Cs=e=>e==="_"||e==="$",nt=(e,t)=>e!==A&&!e.__isScriptSetup&&m(e,t),Ts={get({_:e},t){const{ctx:n,setupState:s,data:o,props:r,accessCache:i,type:c,appContext:a}=e;if(process.env.NODE_ENV!=="production"&&t==="__isVue")return!0;let u;if(t[0]!=="$"){const E=i[t];if(E!==void 0)switch(E){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(nt(s,t))return i[t]=1,s[t];if(o!==A&&m(o,t))return i[t]=2,o[t];if((u=e.propsOptions[0])&&m(u,t))return i[t]=3,r[t];if(n!==A&&m(n,t))return i[t]=4,n[t];i[t]=0}}const f=ae[t];let g,V;if(f)return t==="$attrs"?(y(e,"get",t),process.env.NODE_ENV!=="production"&&void 0):process.env.NODE_ENV!=="production"&&t==="$slots"&&y(e,"get",t),f(e);if((g=c.__cssModules)&&(g=g[t]))return g;if(n!==A&&m(n,t))return i[t]=4,n[t];if(V=a.config.globalProperties,m(V,t))return V[t];process.env.NODE_ENV!=="production"&&k&&(!R(t)||t.indexOf("__v")!==0)&&(o!==A&&Cs(t[0])&&m(o,t)?b(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===k&&b(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return nt(o,t)?(o[t]=n,!0):process.env.NODE_ENV!=="production"&&o.__isScriptSetup&&m(o,t)?(b(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):s!==A&&m(s,t)?(s[t]=n,!0):m(e.props,t)?(process.env.NODE_ENV!=="production"&&b(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(process.env.NODE_ENV!=="production"&&b(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(process.env.NODE_ENV!=="production"&&t in e.appContext.config.globalProperties?Object.defineProperty(r,t,{enumerable:!0,configurable:!0,value:n}):r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r}},i){let c;return!!n[i]||e!==A&&m(e,i)||nt(t,i)||(c=r[0])&&m(c,i)||m(s,i)||m(ae,i)||m(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:m(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};process.env.NODE_ENV!=="production"&&(Ts.ownKeys=e=>(b("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e)));function Wt(e){return h(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Rs(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,c=r.get(t);let a;return c?a=c:!o.length&&!n&&!s?a=t:(a={},o.length&&o.forEach(u=>ye(a,u,i,!0)),ye(a,t,i)),I(t)&&r.set(t,a),a}function ye(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&ye(e,r,n,!0),o&&o.forEach(i=>ye(e,i,n,!0));for(const i in t)if(s&&i==="expose")process.env.NODE_ENV!=="production"&&b('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const c=Is[i]||n&&n[i];e[i]=c?c(e[i],t[i]):t[i]}return e}const Is={data:qt,props:Jt,emits:Jt,methods:ue,computed:ue,beforeCreate:S,created:S,beforeMount:S,mounted:S,beforeUpdate:S,updated:S,beforeDestroy:S,beforeUnmount:S,destroyed:S,unmounted:S,activated:S,deactivated:S,errorCaptured:S,serverPrefetch:S,components:ue,directives:ue,watch:Ps,provide:qt,inject:Ms};function qt(e,t){return t?e?function(){return P(O(e)?e.call(this,this):e,O(t)?t.call(this,this):t)}:t:e}function Ms(e,t){return ue(Gt(e),Gt(t))}function Gt(e){if(h(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function S(e,t){return e?[...new Set([].concat(e,t))]:t}function ue(e,t){return e?P(Object.create(null),e,t):t}function Jt(e,t){return e?h(e)&&h(t)?[...new Set([...e,...t])]:P(Object.create(null),Wt(e),Wt(t!=null?t:{})):t}function Ps(e,t){if(!e)return t;if(!t)return e;const n=P(Object.create(null),e);for(const s in t)n[s]=S(e[s],t[s]);return n}function Ds(){return{app:null,config:{isNativeTag:_n,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}const Yt=Os,$s=e=>e.__isTeleport,Qt=Symbol.for("v-fgt"),js=Symbol.for("v-txt"),As=Symbol.for("v-cmt");let ne=null;function Fs(e){return e?e.__v_isVNode===!0:!1}const Hs=(...e)=>en(...e),Xt="__vInternal",Zt=({key:e})=>e!=null?e:null,Ce=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?R(e)||C(e)||O(e)?{i:k,r:e,k:t,f:!!n}:e:null);function Bs(e,t=null,n=null,s=0,o=null,r=e===Qt?0:1,i=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Zt(t),ref:t&&Ce(t),scopeId:Es,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:k};return c?(st(a,n),r&128&&e.normalize(a)):n&&(a.shapeFlag|=R(n)?8:16),process.env.NODE_ENV!=="production"&&a.key!==a.key&&b("VNode created with invalid key (NaN). VNode type:",a.type),!i&&ne&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&ne.push(a),a}const zs=process.env.NODE_ENV!=="production"?Hs:en;function en(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===Ns)&&(process.env.NODE_ENV!=="production"&&!e&&b(`Invalid vnode type when creating vnode: ${e}.`),e=As),Fs(e)){const c=Te(e,t,!0);return n&&st(c,n),!r&&ne&&(c.shapeFlag&6?ne[ne.indexOf(e)]=c:ne.push(c)),c.patchFlag|=-2,c}if(cn(e)&&(e=e.__vccOpts),t){t=Ks(t);let{class:c,style:a}=t;c&&!R(c)&&(t.class=je(c)),I(a)&&(qe(a)&&!h(a)&&(a=P({},a)),t.style=$e(a))}const i=R(e)?1:bs(e)?128:$s(e)?64:I(e)?4:O(e)?2:0;return process.env.NODE_ENV!=="production"&&i&4&&qe(e)&&(e=p(e),b("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),Bs(e,t,n,s,o,i,r,!0)}function Ks(e){return e?qe(e)||Xt in e?P({},e):e:null}function Te(e,t,n=!1){const{props:s,ref:o,patchFlag:r,children:i}=e,c=t?Ls(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Zt(c),ref:t&&t.ref?n&&o?h(o)?o.concat(Ce(t)):[o,Ce(t)]:Ce(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:process.env.NODE_ENV!=="production"&&r===-1&&h(i)?i.map(tn):i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Qt?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Te(e.ssContent),ssFallback:e.ssFallback&&Te(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function tn(e){const t=Te(e);return h(e.children)&&(t.children=e.children.map(tn)),t}function ks(e=" ",t=0){return zs(js,null,e,t)}function st(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(h(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),st(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Xt in t)?t._ctx=k:o===3&&k&&(k.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else O(t)?(t={default:t,_ctx:k},n=32):(t=String(t),s&64?(n=16,t=[ks(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ls(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=je([t.class,s.class]));else if(o==="style")t.style=$e([t.style,s.style]);else if(gn(o)){const r=t[o],i=s[o];i&&r!==i&&!(h(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=s[o])}return t}Ds();let L=null,ot,se,nn="__VUE_INSTANCE_SETTERS__";(se=De()[nn])||(se=De()[nn]=[]),se.push(e=>L=e),ot=e=>{se.length>1?se.forEach(t=>t(e)):se[0](e)};const rt=e=>{ot(e),e.scope.on()},sn=()=>{L&&L.scope.off(),ot(null)};function Us(e){return e.vnode.shapeFlag&4}function Ws(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ss(es(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ae)return ae[n](e)},has(t,n){return n in t||n in ae}}))}const qs=/(?:^|[-_])(\w)/g,Gs=e=>e.replace(qs,t=>t.toUpperCase()).replace(/[-_]/g,"");function on(e,t=!0){return O(e)?e.displayName||e.name:e.name||t&&e.__name}function rn(e,t,n=!1){let s=on(t);if(!s&&t.__file){const o=t.__file.match(/([^/\\]+)\.\w+$/);o&&(s=o[1])}if(!s&&e&&e.parent){const o=r=>{for(const i in r)if(r[i]===t)return i};s=o(e.components||e.parent.type.components)||o(e.appContext.components)}return s?Gs(s):n?"App":"Anonymous"}function cn(e){return O(e)&&"__vccOpts"in e}const Js=["id","onFocus","onBlur"],Ys={class:"lkt-field__select"},Qs=["onClick"],Xs={key:0,class:"lkt-field__select-dropdown"},Zs={class:"lkt-field__select-search-container"},eo={key:0,class:"lkt-field__select-options"},to=["onClick"],no=["innerHTML","onClick"],so={name:"LktFieldSelect",inheritAttrs:!1},oo=l.defineComponent({...so,props:{modelValue:{type:[String,Number,Array],default:""},placeholder:{type:String,default:""},label:{type:String,default:""},palette:{type:String,default:""},name:{type:String,default:j.generateRandomString(16)},valid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},emptyLabel:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},disabledOptions:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!1},canTag:{type:Boolean,default:!1},noOptionsMessage:{type:String,default:pn()},resource:{type:String,default:()=>null},searchStringResourceParam:{type:String,default:"query"},searchOptions:{type:[Object,Function],default:()=>null},searchPlaceholder:{type:String,default:""}},emits:["update:modelValue","click-ui"],setup(e,{expose:t,emit:n}){const s=n,o=l.useSlots(),r=e,i=l.ref(null),c=l.ref(null),a=j.generateRandomString(16),u=l.ref(new ut(r.searchOptions)),f=l.ref(new ft(r.options)),g=l.ref(!1),V=l.ref(r.modelValue),E=l.ref(r.modelValue),fe=l.ref(!1),v=l.ref(!1),$=l.ref(f.value.all()),J=l.ref(f.value.all()),w=l.ref("");r.closeOnSelect===null?g.value=r.multiple===!0:g.value=r.closeOnSelect;const ln=l.computed(()=>!!o.label);l.computed(()=>ln?!1:!r.label&&r.emptyLabel?!0:!!r.label),l.computed(()=>fn.existsHTTPResource(r.resource));const _=l.computed(()=>typeof r.valid=="function"?r.valid():r.valid),it=l.computed(()=>E.value!==V.value),ct=l.computed(()=>{const d=["lkt-field"];return r.palette&&d.push(`lkt-field--${r.palette}`),it.value&&d.push("is-changed"),r.multiple&&d.push("is-multiple"),r.disabled&&d.push("is-disabled"),v.value&&d.push("has-focus"),d.push(_.value?"is-valid":"is-error"),d.push(r.modelValue?"is-filled":"is-empty"),d.join(" ")}),io=l.computed(()=>{let d="";return J.value.forEach(Y=>{Y.value==E.value&&(d=Y.label)}),d}),lt=()=>{J.value=f.value.all(),$.value=f.value.filter(w.value)},an=()=>{w.value="",lt()},co=()=>{E.value=V.value},lo=()=>r.modelValue,Re=()=>{an(),v.value=!v.value,v.value&&l.nextTick(()=>{i.value.focus(),l.nextTick(()=>{i.value.focus()})})};l.watch(()=>r.modelValue,d=>{E.value=d}),l.watch(E,d=>{s("update:modelValue",d),fe.value=!0,l.nextTick(()=>fe.value=!1)}),l.watch(w,lt),l.watch(()=>r.searchOptions,d=>{u.value=new ut(d)}),l.watch(()=>r.options,d=>{f.value=new ft(d)}),lt();const ao=d=>{E.value=d.value,v.value=!1},un=d=>{const Y=["is-select","lkt-field__select","lkt-field__select-value","lkt-field__select-dropdown","lkt-field__select-search-container","lkt-field__select-options","lkt-field__select-option","lkt-field__select-search"],pe=d.target;let T=!1;Y.forEach(at=>{(pe.className.includes(at)||pe.parentElement&&pe.parentElement.className.includes(at))&&(T=!0)}),T||(an(),v.value=!1)};return window.addEventListener("click",un),ys(()=>{window.removeEventListener("click",un)}),t({reset:co,value:lo}),(d,Y)=>{const pe=l.resolveComponent("lkt-field-text");return l.openBlock(),l.createElementBlock("div",{class:l.normalizeClass(["is-select",ct.value]),"data-show-ui":!1},[l.renderSlot(d.$slots,"prefix"),l.createElementVNode("select",{ref:T=>c.value=T,id:l.unref(a),onFocus:l.withModifiers(Re,["stop","prevent"]),onBlur:l.withModifiers(Re,["stop","prevent"]),style:{height:"0",opacity:"0",width:"0"}},null,40,Js),l.createElementVNode("div",Ys,[l.createElementVNode("div",{class:"lkt-field__select-value",onClick:l.withModifiers(Re,["stop","prevent"])},l.toDisplayString(io.value),9,Qs),v.value?(l.openBlock(),l.createElementBlock("div",Xs,[l.createElementVNode("div",Zs,[l.createVNode(pe,{ref:T=>i.value=T,modelValue:w.value,"onUpdate:modelValue":Y[0]||(Y[0]=T=>w.value=T),placeholder:e.searchPlaceholder,tabindex:-1,class:"lkt-field__select-search"},null,8,["modelValue","placeholder"])]),e.readonly?l.createCommentVNode("",!0):(l.openBlock(),l.createElementBlock("ul",eo,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList($.value,T=>(l.openBlock(),l.createElementBlock("li",{class:l.normalizeClass(["lkt-field__select-option",{"is-active":T.value==E.value}]),onClick:l.withModifiers(at=>ao(T),["prevent","stop"])},l.toDisplayString(T.label),11,to))),256))]))])):l.createCommentVNode("",!0)]),l.createElementVNode("label",{innerHTML:e.label,onClick:l.withModifiers(Re,["stop","prevent"])},null,8,no)],2)}}}),ro={install:e=>{e.component("lkt-field-select",oo)}};N.default=ro,N.setNoOptionsMessage=dn,Object.defineProperties(N,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
